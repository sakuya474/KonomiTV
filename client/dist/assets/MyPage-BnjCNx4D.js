import{u as f,H as g,N as v}from"./Navigation-XDSWwzZP.js";import{d as h,ai as x,y as w,c as d,a as s,b as t,h as e,w as y,k as b,af as a,e as k,t as c,r as p,V as l,n as V,o as _,R as B,_ as C}from"./index-BjnRdZII.js";import{d as N}from"./VCard-D4SZOtDi.js";import"./VSpacer-CItjHwQn.js";import"./ssrBoot-D15FtRyu.js";import"./VAvatar-DUluRc1j.js";import"./transition-DQr2RJV9.js";const S={class:"route-container"},I={class:"settings-navigation"},U={class:"account-wrapper"},D=["src"],M={class:"account__info"},z={class:"account__info-name"},H={class:"account__info-name-text"},P={key:0,class:"account__info-admin"},R={class:"account__info-id"},j={class:"ml-4"},A=h({__name:"MyPage",setup(E){const n=x(),i=f();return w(async()=>{await n.fetchUser(),await i.fetchServerVersion()}),(K,o)=>{const m=p("router-link"),r=p("Icon");return _(),d("div",S,[s(g),t("main",null,[s(v),s(N,{class:"settings-container d-flex px-5 py-5 mx-auto",elevation:"0",width:"100%","max-width":"1000"},{default:e(()=>[t("nav",I,[o[3]||(o[3]=t("h1",{class:"mt-2",style:{"font-size":"24px"}},"マイページ",-1)),y((_(),b(m,{to:"/settings/account",class:"account mt-6"},{default:e(()=>{var u;return[t("div",U,[t("img",{class:"account__icon",src:a(n).user?a(n).user_icon_url??"":"/assets/images/account-icon-default.png"},null,8,D),t("div",M,[t("div",z,[t("span",H,c(a(n).user?a(n).user.name:"ログインしていません"),1),(u=a(n).user)!=null&&u.is_admin?(_(),d("span",P,"管理者")):k("",!0)]),t("span",R,c(a(n).user?`User ID: ${a(n).user.id}`:"Not logged in"),1)])])]}),_:1})),[[B]]),s(l,{variant:"flat",class:"settings-navigation__button",to:"/settings/"},{default:e(()=>[s(r,{icon:"fluent:settings-20-regular",width:"26px"}),o[0]||(o[0]=t("span",{class:"ml-4"},"設定",-1))]),_:1}),s(l,{variant:"flat",class:"settings-navigation__button mt-3",to:"/mylist/"},{default:e(()=>[s(r,{icon:"ic:round-playlist-play",width:"26px"}),o[1]||(o[1]=t("span",{class:"ml-4"},"マイリスト",-1))]),_:1}),s(l,{variant:"flat",class:"settings-navigation__button",to:"/watched-history/"},{default:e(()=>[s(r,{icon:"fluent:history-20-regular",width:"26px"}),o[2]||(o[2]=t("span",{class:"ml-4"},"視聴履歴",-1))]),_:1}),s(l,{variant:"flat",class:V(["settings-navigation__button settings-navigation__button--version mt-3",{"settings-navigation__button--version-highlight":a(i).is_update_available}]),href:"https://github.com/tsukumijima/KonomiTV",target:"_blank"},{default:e(()=>[s(r,{icon:"fluent:info-20-regular",width:"26px"}),t("span",j," version "+c(a(i).client_version)+c(a(i).is_update_available?" (Update Available)":""),1)]),_:1},8,["class"])])]),_:1})])])}}}),O=C(A,[["__scopeId","data-v-27a0aec9"]]);export{O as default};
