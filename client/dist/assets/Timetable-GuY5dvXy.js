import{u as ke}from"./TimetableStore-BtM5Pj79.js";import{s as ae,q as T,x as Te,y as me,z as te,A as we,C as Se,B as re,D as De,E as xe,G as Ce,H as Ve,I as Me,J as Ee,K as Be,L as he,N as _e,O as $e,Q as Pe,S as He,T as Re,W as Ie,X,Y as Le,Z as Ne,$ as Ye,a0 as Oe,a1 as ze,a2 as We,a3 as Fe,a4 as Xe,a5 as Ae,a6 as qe,a7 as je,a8 as Ue,a as s,a9 as ie,aa as Ge,ab as Ze,F as N,ac as fe,d as Je,ad as Ke,ae as Qe,c as _,b as d,f as J,g as Y,h as m,V as K,af as U,ag as et,l as R,t as D,ah as ne,k as Q,n as tt,e as F,o as u,_ as at}from"./index-BlIJpv-7.js";import{R as nt}from"./Reservations-DOwwPuyF.js";import{B as lt}from"./Breadcrumbs-u9pkXJVJ.js";import{H as ot,N as st}from"./Navigation-Bj6BNYFG.js";import{S as rt}from"./SPHeaderBar-Cc39iH-E.js";import{V as it,a as ut,b as ct,c as dt}from"./VMenu-CHDKPEWg.js";import{u as vt,m as ft,a as mt}from"./dialog-transition-VagSnCOd.js";import{u as gt}from"./ssrBoot-DP7NesQp.js";import{V as ht}from"./VAvatar-DeNZEb75.js";import{V as _t}from"./VTooltip-rbLyebOs.js";import{V as bt,a as yt,b as be,c as pt,d as wt}from"./VCard-Bnp_HOJz.js";import{V as ve}from"./VChip-BAkLUxK3.js";import{V as kt}from"./VDivider-DlbvrhS1.js";import{V as Tt}from"./VSpacer-DQJmI_81.js";import"./index-C5v6s5NQ.js";import"./transition-BjNZ42eF.js";import"./forwardRefs-DboJVnh3.js";function St(a){let{rootEl:o,isSticky:b,layoutItemStyles:L}=a;const l=ae(!1),y=ae(0),r=T(()=>{const $=typeof l.value=="boolean"?"top":l.value;return[b.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[$]:Te(y.value)}:{top:L.value.top}]});me(()=>{te(b,$=>{$?window.addEventListener("scroll",I,{passive:!0}):window.removeEventListener("scroll",I)},{immediate:!0})}),we(()=>{window.removeEventListener("scroll",I)});let M=0;function I(){const $=M>window.scrollY?"up":"down",S=o.value.getBoundingClientRect(),x=parseFloat(L.value.top??0),w=window.scrollY-Math.max(0,y.value-x),C=S.height+Math.max(y.value,x)-window.scrollY-window.innerHeight,E=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;S.height<window.innerHeight-x?(l.value="top",y.value=x):$==="up"&&l.value==="bottom"||$==="down"&&l.value==="top"?(y.value=window.scrollY+S.top-E,l.value=!0):$==="down"&&C<=0?(y.value=0,l.value="bottom"):$==="up"&&w<=0&&(E?l.value!=="top"&&(y.value=-w+E+x,l.value="top"):(y.value=S.top+w,l.value="top")),M=window.scrollY}return{isStuck:l,stickyStyles:r}}const Dt=100,xt=20;function ye(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function pe(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let o=0;for(let b=a.length-1;b>0;b--){if(a[b].t===a[b-1].t)continue;const L=ye(o),l=(a[b].d-a[b-1].d)/(a[b].t-a[b-1].t);o+=(l-L)*Math.abs(l),b===a.length-1&&(o*=.5)}return ye(o)*1e3}function Ct(){const a={};function o(l){Array.from(l.changedTouches).forEach(y=>{(a[y.identifier]??(a[y.identifier]=new Se(xt))).push([l.timeStamp,y])})}function b(l){Array.from(l.changedTouches).forEach(y=>{delete a[y.identifier]})}function L(l){var $;const y=($=a[l])==null?void 0:$.values().reverse();if(!y)throw new Error(`No samples for touch id ${l}`);const r=y[0],M=[],I=[];for(const S of y){if(r[0]-S[0]>Dt)break;M.push({t:S[0],d:S[1].clientX}),I.push({t:S[0],d:S[1].clientY})}return{x:pe(M),y:pe(I),get direction(){const{x:S,y:x}=this,[w,C]=[Math.abs(S),Math.abs(x)];return w>C&&S>=0?"right":w>C&&S<=0?"left":C>w&&x>=0?"down":C>w&&x<=0?"up":Vt()}}}return{addMovement:o,endTouch:b,getVelocity:L}}function Vt(){throw new Error}function Mt(a){let{el:o,isActive:b,isTemporary:L,width:l,touchless:y,position:r}=a;me(()=>{window.addEventListener("touchstart",z,{passive:!0}),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",P,{passive:!0})}),we(()=>{window.removeEventListener("touchstart",z),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",P)});const M=T(()=>["left","right"].includes(r.value)),{addMovement:I,endTouch:$,getVelocity:S}=Ct();let x=!1;const w=ae(!1),C=ae(0),E=ae(0);let B;function A(c,f){return(r.value==="left"?c:r.value==="right"?document.documentElement.clientWidth-c:r.value==="top"?c:r.value==="bottom"?document.documentElement.clientHeight-c:ee())-(f?l.value:0)}function O(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const g=r.value==="left"?(c-E.value)/l.value:r.value==="right"?(document.documentElement.clientWidth-c-E.value)/l.value:r.value==="top"?(c-E.value)/l.value:r.value==="bottom"?(document.documentElement.clientHeight-c-E.value)/l.value:ee();return f?Math.max(0,Math.min(1,g)):g}function z(c){if(y.value)return;const f=c.changedTouches[0].clientX,g=c.changedTouches[0].clientY,h=25,V=r.value==="left"?f<h:r.value==="right"?f>document.documentElement.clientWidth-h:r.value==="top"?g<h:r.value==="bottom"?g>document.documentElement.clientHeight-h:ee(),p=b.value&&(r.value==="left"?f<l.value:r.value==="right"?f>document.documentElement.clientWidth-l.value:r.value==="top"?g<l.value:r.value==="bottom"?g>document.documentElement.clientHeight-l.value:ee());(V||p||b.value&&L.value)&&(B=[f,g],E.value=A(M.value?f:g,b.value),C.value=O(M.value?f:g),x=E.value>-20&&E.value<80,$(c),I(c))}function W(c){const f=c.changedTouches[0].clientX,g=c.changedTouches[0].clientY;if(x){if(!c.cancelable){x=!1;return}const V=Math.abs(f-B[0]),p=Math.abs(g-B[1]);(M.value?V>p&&V>3:p>V&&p>3)?(w.value=!0,x=!1):(M.value?p:V)>3&&(x=!1)}if(!w.value)return;c.preventDefault(),I(c);const h=O(M.value?f:g,!1);C.value=Math.max(0,Math.min(1,h)),h>1?E.value=A(M.value?f:g,!0):h<0&&(E.value=A(M.value?f:g,!1))}function P(c){if(x=!1,!w.value)return;I(c),w.value=!1;const f=S(c.changedTouches[0].identifier),g=Math.abs(f.x),h=Math.abs(f.y);(M.value?g>h&&g>400:h>g&&h>3)?b.value=f.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||ee()):b.value=C.value>.5}const q=T(()=>w.value?{transform:r.value==="left"?`translateX(calc(-100% + ${C.value*l.value}px))`:r.value==="right"?`translateX(calc(100% - ${C.value*l.value}px))`:r.value==="top"?`translateY(calc(-100% + ${C.value*l.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${C.value*l.value}px))`:ee(),transition:"none"}:void 0);return re(w,()=>{var g,h;const c=((g=o.value)==null?void 0:g.style.transform)??null,f=((h=o.value)==null?void 0:h.style.transition)??null;De(()=>{var V,p,k,G;(p=o.value)==null||p.style.setProperty("transform",((V=q.value)==null?void 0:V.transform)||"none"),(G=o.value)==null||G.style.setProperty("transition",((k=q.value)==null?void 0:k.transition)||null)}),xe(()=>{var V,p;(V=o.value)==null||V.style.setProperty("transform",c),(p=o.value)==null||p.style.setProperty("transition",f)})}),{isDragging:w,dragProgress:C,dragStyles:q}}function ee(){throw new Error}const Et=["start","end","left","right","top","bottom"],Bt=Ve({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>Et.includes(a)},sticky:Boolean,...Ue(),...je(),...ft(),...qe({mobile:null}),...Ae(),...Xe(),...Fe(),...We({tag:"nav"}),...ze()},"VNavigationDrawer"),$t=Ce()({name:"VNavigationDrawer",props:Bt(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,o){let{attrs:b,emit:L,slots:l}=o;const{isRtl:y}=Me(),{themeClasses:r}=Ee(a),{borderClasses:M}=Be(a),{backgroundColorClasses:I,backgroundColorStyles:$}=he(_e(a,"color")),{elevationClasses:S}=$e(a),{displayClasses:x,mobile:w}=Pe(a),{roundedClasses:C}=He(a),E=Re(),B=Ie(a,"modelValue",null,t=>!!t),{ssrBootStyles:A}=gt(),{scopeId:O}=vt(),z=X(),W=ae(!1),{runOpenDelay:P,runCloseDelay:q}=mt(a,t=>{W.value=t}),c=T(()=>a.rail&&a.expandOnHover&&W.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),f=T(()=>Le(a.location,y.value)),g=T(()=>a.persistent),h=T(()=>!a.permanent&&(w.value||a.temporary)),V=T(()=>a.sticky&&!h.value&&f.value!=="bottom");re(()=>a.expandOnHover&&a.rail!=null,()=>{te(W,t=>L("update:rail",!t))}),re(()=>!a.disableResizeWatcher,()=>{te(h,t=>!a.permanent&&fe(()=>B.value=!t))}),re(()=>!a.disableRouteWatcher&&!!E,()=>{te(E.currentRoute,()=>h.value&&(B.value=!1))}),te(()=>a.permanent,t=>{t&&(B.value=!0)}),a.modelValue==null&&!h.value&&(B.value=a.permanent||!w.value);const{isDragging:p,dragProgress:k}=Mt({el:z,isActive:B,isTemporary:h,width:c,touchless:_e(a,"touchless"),position:f}),G=T(()=>{const t=h.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):c.value;return p.value?t*k.value:t}),{layoutItemStyles:Z,layoutItemScrimStyles:ue}=Ne({id:a.name,order:T(()=>parseInt(a.order,10)),position:f,layoutSize:G,elementSize:c,active:T(()=>B.value||p.value),disableTransitions:T(()=>p.value),absolute:T(()=>a.absolute||V.value&&typeof le.value!="string")}),{isStuck:le,stickyStyles:oe}=St({rootEl:z,isSticky:V,layoutItemStyles:Z}),n=he(T(()=>typeof a.scrim=="string"?a.scrim:null)),e=T(()=>({...p.value?{opacity:k.value*.2,transition:"none"}:void 0,...ue.value}));return Ye({VList:{bgColor:"transparent"}}),Oe(()=>{const t=l.image||a.image;return s(N,null,[s(a.tag,ie({ref:z,onMouseenter:P,onMouseleave:q,class:["v-navigation-drawer",`v-navigation-drawer--${f.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":W.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":h.value,"v-navigation-drawer--persistent":g.value,"v-navigation-drawer--active":B.value,"v-navigation-drawer--sticky":V.value},r.value,I.value,M.value,x.value,S.value,C.value,a.class],style:[$.value,Z.value,A.value,oe.value,a.style]},O,b),{default:()=>{var v,i,H;return[t&&s("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?s(Ge,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},l.image):s(ht,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),l.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(v=l.prepend)==null?void 0:v.call(l)]),s("div",{class:"v-navigation-drawer__content"},[(i=l.default)==null?void 0:i.call(l)]),l.append&&s("div",{class:"v-navigation-drawer__append"},[(H=l.append)==null?void 0:H.call(l)])]}}),s(Ze,{name:"fade-transition"},{default:()=>[h.value&&(p.value||B.value)&&!!a.scrim&&s("div",ie({class:["v-navigation-drawer__scrim",n.backgroundColorClasses.value],style:[e.value,n.backgroundColorStyles.value],onClick:()=>{g.value||(B.value=!1)}},O),null)]})])}),{isStuck:le}}}),Pt={class:"route-container"},Ht={class:"timetable-container-wrapper"},Rt={class:"timetable-breadcrumbs-container"},It={class:"timetable-header"},Lt={class:"channels-tab"},Nt={class:"timetable-header__date-control"},Yt={class:"timetable-body"},Ot={key:0,class:"loading-container"},zt={key:1,class:"timetable-grid-container"},Wt={class:"timeline-container"},Ft={key:0,class:"day-text"},Xt={key:1,class:"dayofweek-text"},At={class:"hour-text"},qt=["onClick"],jt={class:"program-header"},Ut={class:"program-title"},Gt={class:"program-badges"},Zt={key:0,class:"program-badge program-badge--paid"},Jt={key:1,class:"program-badge program-badge--genre"},Kt={key:0,class:"program-description"},Qt={class:"program-time"},ea={class:"tooltip-text"},ta={key:2,class:"loading-container"},aa={class:"program-info-badges"},na={class:"text-body-2 mb-3"},la={key:0,class:"program-detail-section"},oa={class:"program-detail-grid"},sa={class:"detail-key"},ra={class:"detail-value"},ia=Je({__name:"Timetable",setup(a){const o=ke(),b=Ke(),L=[{id:"ALL",name:"すべて"},{id:"GR",name:"地デジ"},{id:"BS",name:"BS"},{id:"CS",name:"CS"}],l=X(1),y=(n,e)=>{o.setChannelType(n),l.value=e},r=X(!1),M=T(()=>{const n=new Date;n.setHours(0,0,0,0);const e=new Date(n);return e.setDate(e.getDate()+o.selected_day_offset),e}),I=T(()=>{const n=new Date;n.setHours(0,0,0,0);const e=[];for(let t=-7;t<=7;t++){const v=new Date(n);v.setDate(v.getDate()+t);const i=v.getMonth()+1,H=v.getDate(),j=t===0?`${i}/${H} 今日`:`${i}/${H}`;e.push({label:j,value:v.toISOString(),offset:t})}return e}),$=n=>{const e=n.getMonth()+1,t=n.getDate();return`${e}/${t}`},S=async n=>{const e=o.selected_day_offset+n;e>=-7&&e<=7&&(o.selected_day_offset=e,await o.fetchTimetable(),w())},x=async n=>{o.selected_day_offset=n,await o.fetchTimetable(),w(),r.value=!1},w=()=>{fe(()=>{setTimeout(()=>{const n=document.querySelector(".timetable-grid-container");if(!n||P.value.totalMinutes===0)return;const t=24*60*6;n.scrollTo({top:t,behavior:"smooth"})},100)})},C={"ニュース・報道":{background:"#5a88a7",text:"#ffffff"},スポーツ:{background:"#e07f5a",text:"#ffffff"},"情報・ワイドショー":{background:"#e7a355",text:"#ffffff"},ドラマ:{background:"#b464a8",text:"#ffffff"},音楽:{background:"#64b46e",text:"#ffffff"},バラエティ:{background:"#e05a8e",text:"#ffffff"},映画:{background:"#a7647e",text:"#ffffff"},"アニメ・特撮":{background:"#e76b55",text:"#ffffff"},"ドキュメンタリー・教養":{background:"#5a88a7",text:"#ffffff"},"劇場・公演":{background:"#a7647e",text:"#ffffff"},"趣味・教育":{background:"#64b46e",text:"#ffffff"},福祉:{background:"#5aa788",text:"#ffffff"},その他:{background:"#7f7f7f",text:"#ffffff"}},E={background:"rgb(var(--v-theme-background-lighten-3))",text:"rgb(var(--v-theme-text))"},B=X(new Date),A=setInterval(()=>{B.value=new Date},60*1e3);Qe(()=>{clearInterval(A)});const O=n=>{const e=new Date(n);return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},z=n=>{const e=new Date(n);return`${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()} ${O(n)}`},W=(n,e)=>n.length<=e?n:n.substring(0,e)+"...",P=T(()=>{const n=o.timetable_channels;if(!n||n.length===0)return{startTime:new Date,endTime:new Date,totalMinutes:0};let e=null,t=null;if(n.forEach(i=>{i.programs.forEach(H=>{const j=new Date(H.start_time),se=new Date(H.end_time);(!e||j<e)&&(e=j),(!t||se>t)&&(t=se)})}),!e||!t)return{startTime:new Date,endTime:new Date,totalMinutes:0};const v=Math.floor((t.getTime()-e.getTime())/(1e3*60));return{startTime:e,endTime:t,totalMinutes:v}}),q=T(()=>{if(P.value.totalMinutes===0)return[];const n=[],e=new Date(P.value.startTime),t=new Date(P.value.endTime);let v=new Date(e);for(v.setMinutes(0,0,0);v<=t;){const i=v.getHours(),H=i===0;n.push({hour:i,day:H?v.getDate():null}),v.setHours(v.getHours()+1)}return n}),c=T(()=>{var e;const n=((e=o.timetable_channels)==null?void 0:e.length)||0;return n===0?{"grid-template-columns":"none"}:{"grid-template-columns":`repeat(${n}, minmax(200px, 1fr))`}}),f=T(()=>{var e;const n=((e=o.timetable_channels)==null?void 0:e.length)||0;return n===0?{"grid-template-columns":"none","grid-template-rows":"none"}:{"grid-template-columns":`repeat(${n}, minmax(200px, 1fr))`,"grid-template-rows":`repeat(${P.value.totalMinutes}, 6px)`}}),g=(n,e)=>{var ge;const t=new Date(n.start_time),v=new Date(n.end_time),i=P.value.startTime,H=Math.floor((t.getTime()-i.getTime())/(1e3*60)),j=n.duration/60,se=((ge=n.genres[0])==null?void 0:ge.major)||"その他",ce=C[se]||E,de={"grid-column":e+1,"grid-row-start":H+1,"grid-row-end":H+j+1,"background-color":ce.background,color:ce.text,"border-color":ce.background};return v<B.value&&(de.opacity=.6,de["pointer-events"]="none"),de},h=T(()=>{if(P.value.totalMinutes===0)return{top:"0px"};const n=P.value.startTime,e=new Date(B.value),t=Math.floor((e.getTime()-n.getTime())/(1e3*60));return t<0||t>P.value.totalMinutes?{top:"-9999px"}:{top:`${t*6}px`}}),V=n=>n.duration/60>15,p=X(!1),k=X(null),G=n=>{k.value=n,p.value=!0},Z=X(!1),ue=async n=>{Z.value=!0;const e={is_enabled:!0,priority:3,recording_folders:[],recording_start_margin:null,recording_end_margin:null,recording_mode:"SpecifiedService",caption_recording_mode:"Default",data_broadcasting_recording_mode:"Default",post_recording_mode:"Default",post_recording_bat_file_path:null,is_event_relay_follow_enabled:!0,is_exact_recording_enabled:!1,is_oneseg_separate_output_enabled:!1,is_sequential_recording_in_single_file_enabled:!1,forced_tuner_id:null};await nt.addReservation(n,e)?(b.show("success","録画予約を追加しました。"),p.value=!1):b.show("error","録画予約の追加に失敗しました。"),Z.value=!1};me(()=>{o.setChannelType("GR"),o.current_date=new Date,o.selected_day_offset=0,o.fetchTimetable()});const le=()=>{fe(()=>{setTimeout(()=>{const n=document.querySelector(".timetable-grid-container");if(!n||P.value.totalMinutes===0)return;const e=P.value.startTime,t=new Date(B.value),i=Math.floor((t.getTime()-e.getTime())/(1e3*60))*6-200;n.scrollTo({top:i>0?i:0,behavior:"smooth"})},100)})},oe=X(!0);return te(()=>o.timetable_channels,n=>{oe.value&&n&&n.length>0&&(le(),oe.value=!1)}),(n,e)=>(u(),_("div",Pt,[s(ot),d("main",null,[s(st),d("div",Ht,[s(rt),d("div",Rt,[s(lt,{crumbs:[{name:"ホーム",path:"/"},{name:"番組表",path:"/timetable/",disabled:!0}]})]),d("div",It,[d("div",Lt,[d("div",{class:"channels-tab__buttons",style:J({"--tab-length":L.length,"--active-tab-index":l.value})},[(u(),_(N,null,Y(L,(t,v)=>s(K,{variant:"flat",class:"channels-tab__button",key:t.id,onClick:i=>y(t.id,v)},{default:m(()=>[R(D(t.name),1)]),_:2},1032,["onClick"])),64)),e[6]||(e[6]=d("div",{class:"channels-tab__highlight"},null,-1))],4)]),d("div",Nt,[s(K,{variant:"flat",icon:"",onClick:e[0]||(e[0]=t=>S(-1))},{default:m(()=>[s(ne,null,{default:m(()=>[...e[7]||(e[7]=[R("mdi-chevron-left",-1)])]),_:1})]),_:1}),s(it,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),"close-on-content-click":!1},{activator:m(({props:t})=>[s(K,ie({variant:"flat"},t,{class:"date-button"}),{default:m(()=>[R(D($(M.value)),1)]),_:1},16)]),default:m(()=>[s(ut,{class:"date-list"},{default:m(()=>[(u(!0),_(N,null,Y(I.value,t=>(u(),Q(dt,{key:t.value,onClick:v=>x(t.offset),class:tt({"date-list-item--selected":t.offset===U(o).selected_day_offset})},{default:m(()=>[s(ct,null,{default:m(()=>[R(D(t.label),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1},8,["modelValue"]),s(K,{variant:"flat",icon:"",onClick:e[2]||(e[2]=t=>S(1))},{default:m(()=>[s(ne,null,{default:m(()=>[...e[8]||(e[8]=[R("mdi-chevron-right",-1)])]),_:1})]),_:1})])]),d("div",Yt,[U(o).is_loading?(u(),_("div",Ot,[s(et,{indeterminate:"",size:"64"})])):U(o).timetable_channels&&U(o).timetable_channels.length>0?(u(),_("div",zt,[e[10]||(e[10]=d("div",{class:"corner-cell"},null,-1)),d("div",{class:"channels-header",style:J(c.value)},[(u(!0),_(N,null,Y(U(o).timetable_channels,t=>(u(),_("div",{key:t.channel.id,class:"channel-header-cell"},D(t.channel.name),1))),128))],4),d("div",Wt,[(u(!0),_(N,null,Y(q.value,(t,v)=>(u(),_("div",{key:v,class:"hour-label"},[t.day!==null?(u(),_("div",Ft,D(t.day),1)):F("",!0),t.day!==null?(u(),_("div",Xt,"日")):F("",!0),d("div",At,D(t.hour),1),e[9]||(e[9]=d("div",{class:"hour-unit"},"時",-1))]))),128))]),d("div",{class:"programs-grid",style:J(f.value)},[d("div",{class:"current-time-line",style:J(h.value)},null,4),(u(!0),_(N,null,Y(U(o).timetable_channels.length,t=>(u(),_("div",{key:t,class:"channel-border",style:J({gridColumn:t})},null,4))),128)),(u(!0),_(N,null,Y(Math.ceil(P.value.totalMinutes/60),t=>(u(),_("div",{key:t,class:"hour-border",style:J({gridRow:t*60+1})},null,4))),128)),(u(!0),_(N,null,Y(U(o).timetable_channels,(t,v)=>(u(),_(N,null,[(u(!0),_(N,null,Y(t.programs,i=>(u(),Q(_t,{key:i.id,location:"top",disabled:V(i)},{activator:m(({props:H})=>[d("div",ie({ref_for:!0},H,{class:"program-cell elevation-2",style:g(i,v),onClick:j=>G(i)}),[d("div",jt,[d("div",Ut,D(i.title),1),d("div",Gt,[i.is_free?F("",!0):(u(),_("span",Zt,"有料")),i.genres.length>0?(u(),_("span",Jt,D(i.genres[0].major),1)):F("",!0)])]),i.description&&i.duration>=900?(u(),_("div",Kt,D(W(i.description,50)),1)):F("",!0),d("div",Qt,D(O(i.start_time))+" - "+D(O(i.end_time))+" ("+D(Math.floor(i.duration/60))+"分)",1)],16,qt)]),default:m(()=>[d("span",ea,D(i.title),1)]),_:2},1032,["disabled"]))),128))],64))),256))],4)])):(u(),_("div",ta,[...e[11]||(e[11]=[d("p",null,"番組情報を取得できませんでした。",-1),d("p",null,"指定された期間・チャンネルに放送される番組がありません。",-1)])]))])])]),s($t,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),location:"right",temporary:"",width:"600"},{default:m(()=>[k.value?(u(),Q(wt,{key:0,class:"detail-panel"},{default:m(()=>[s(bt,{class:"text-h5 pb-2"},{default:m(()=>[R(D(k.value.title),1)]),_:1}),s(yt,{class:"pb-3"},{default:m(()=>[R(D(z(k.value.start_time))+" - "+D(z(k.value.end_time))+" ("+D(Math.floor(k.value.duration/60))+"分)",1)]),_:1}),s(be,{class:"pt-0 pb-2"},{default:m(()=>[d("div",aa,[k.value.is_free?F("",!0):(u(),Q(ve,{key:0,color:"warning",size:"small",class:"mr-2 mb-2"},{default:m(()=>[s(ne,{start:""},{default:m(()=>[...e[12]||(e[12]=[R("mdi-currency-yen",-1)])]),_:1}),e[13]||(e[13]=R(" 有料放送 ",-1))]),_:1})),k.value.video_resolution==="1080i"||k.value.video_resolution==="1080p"?(u(),Q(ve,{key:1,color:"success",size:"small",class:"mr-2 mb-2"},{default:m(()=>[s(ne,{start:""},{default:m(()=>[...e[14]||(e[14]=[R("mdi-high-definition",-1)])]),_:1}),e[15]||(e[15]=R(" HD ",-1))]),_:1})):F("",!0),(u(!0),_(N,null,Y(k.value.genres.slice(0,2),t=>(u(),Q(ve,{key:t.major,color:"primary",variant:"outlined",size:"small",class:"mr-2 mb-2"},{default:m(()=>[R(D(t.major),1)]),_:2},1024))),128))])]),_:1}),s(be,{class:"py-2"},{default:m(()=>[s(kt,{class:"mb-3"}),e[17]||(e[17]=d("h4",{class:"text-subtitle-1 mb-2"},"番組内容",-1)),d("p",na,D(k.value.description),1),k.value.detail&&Object.keys(k.value.detail).length>0?(u(),_("div",la,[e[16]||(e[16]=d("h4",{class:"text-subtitle-1 mb-2"},"詳細情報",-1)),d("div",oa,[(u(!0),_(N,null,Y(k.value.detail,(t,v)=>(u(),_("div",{key:v,class:"detail-item"},[d("span",sa,D(v)+":",1),d("span",ra,D(t),1)]))),128))])])):F("",!0)]),_:1}),s(pt,{class:"detail-panel__actions"},{default:m(()=>[s(Tt),s(K,{loading:Z.value,onClick:e[3]||(e[3]=t=>ue(k.value.id)),color:"primary",variant:"elevated"},{default:m(()=>[s(ne,{start:""},{default:m(()=>[...e[18]||(e[18]=[R("mdi-record-rec",-1)])]),_:1}),e[19]||(e[19]=R(" 録画予約 ",-1))]),_:1},8,["loading"]),s(K,{onClick:e[4]||(e[4]=t=>p.value=!1),variant:"outlined"},{default:m(()=>[...e[20]||(e[20]=[R("閉じる",-1)])]),_:1})]),_:1})]),_:1})):F("",!0)]),_:1},8,["modelValue"])]))}}),Ca=at(ia,[["__scopeId","data-v-8c0d3404"]]);export{Ca as default};
