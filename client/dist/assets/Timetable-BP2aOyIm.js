import{A as Z,q as ye,s as ee,x,y as pe,z as ie,B as Q,C as _e,D as we,E as le,G as ke,H as Se,I as De,J as Ee,K as Ce,L as Te,N as xe,O as ve,Q as fe,S as Pe,T as Ve,W as Me,X as Be,Y as Ge,Z as j,$ as He,a0 as $e,a1 as Ie,a2 as Re,a3 as Le,a4 as Ne,a5 as Ye,a6 as ze,a7 as Oe,a8 as We,a9 as Ae,aa as Fe,a as r,ab as re,ac as Xe,ad as je,ae as qe,F as L,af as be,d as Ue,ag as Ze,ah as Je,c as p,b as i,f as J,g as Y,h as _,ai as R,V as O,t as T,aj as Ke,e as W,l as $,k as te,ak as ae,al as se,o as f,_ as Qe}from"./index-COHnkh6W.js";import{R as et}from"./Reservations-DNo5SnGb.js";import{H as tt,N as at}from"./Navigation-CyhYZZ4V.js";import{S as nt}from"./SPHeaderBar-gFvA6uHA.js";import{u as lt,m as st,a as ot}from"./VOverlay-2ml7HyEQ.js";import{u as rt}from"./ssrBoot-DOi1QZ1r.js";import{V as it}from"./VTooltip-BSDnXtNa.js";import{V as ut,a as ct,b as me,c as dt,d as vt}from"./VCard-CmCAOsNx.js";import{V as ft}from"./VDivider-D2zF8kNc.js";import{V as mt}from"./VSpacer-vvZXOq7o.js";import"./forwardRefs-DboJVnh3.js";let oe=class{static async fetchTimetable(n,o){const V=await Z.get("/timetable",{params:{start_time:n.toISOString(),end_time:o.toISOString()}});return V.type==="error"?(Z.showGenericError(V,"番組表の情報を取得できませんでした。"),null):V.data}static async updateEPG(){const n=await Z.post("/timetable/update-epg");return n.type==="error"?(Z.showGenericError(n,"EPG の取得に失敗しました。"),!1):!0}static async reloadEPG(){const n=await Z.post("/timetable/reload-epg");return n.type==="error"?(Z.showGenericError(n,"EPG の再読み込みに失敗しました。"),!1):!0}};const gt=ye("timetable",{state:()=>({_timetable_channels:null,current_date:new Date,selected_channel_type:"ALL",is_loading:!1}),getters:{timetable_channels(e){return e._timetable_channels?e.selected_channel_type==="ALL"?e._timetable_channels:e._timetable_channels.filter(n=>n.channel.type===e.selected_channel_type):null}},actions:{async fetchTimetable(){if(this.is_loading)return;this.is_loading=!0;const e=new Date(this.current_date);e.setHours(4,0,0,0);const n=new Date(e);n.setDate(n.getDate()+1);try{const o=await oe.fetchTimetable(e,n);this._timetable_channels=o}catch(o){console.error(o),this._timetable_channels=null}finally{this.is_loading=!1}},setPreviousDate(){const e=new Date(this.current_date);e.setDate(e.getDate()-1),this.current_date=e,this.fetchTimetable()},setNextDate(){const e=new Date(this.current_date);e.setDate(e.getDate()+1),this.current_date=e,this.fetchTimetable()},setCurrentDate(){this.current_date=new Date,this.fetchTimetable()},setChannelType(e){this.selected_channel_type=e},async updateEPG(){if(!this.is_loading){this.is_loading=!0;try{if(!await oe.updateEPG())throw new Error("EPGの取得に失敗しました。");await this.fetchTimetable()}catch(e){throw console.error("EPG 取得エラー:",e),e}finally{this.is_loading=!1}}},async reloadEPG(){if(!this.is_loading){this.is_loading=!0;try{if(!await oe.reloadEPG())throw new Error("EPGの再読み込みに失敗しました。");await this.fetchTimetable()}catch(e){throw console.error("EPG再読み込みエラー:",e),e}finally{this.is_loading=!1}}}}});function ht(e){let{rootEl:n,isSticky:o,layoutItemStyles:V}=e;const l=ee(!1),g=ee(0),c=x(()=>{const M=typeof l.value=="boolean"?"top":l.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[M]:pe(g.value)}:{top:V.value.top}]});ie(()=>{Q(o,M=>{M?window.addEventListener("scroll",D,{passive:!0}):window.removeEventListener("scroll",D)},{immediate:!0})}),_e(()=>{window.removeEventListener("scroll",D)});let P=0;function D(){const M=P>window.scrollY?"up":"down",w=n.value.getBoundingClientRect(),b=parseFloat(V.value.top??0),y=window.scrollY-Math.max(0,g.value-b),E=w.height+Math.max(g.value,b)-window.scrollY-window.innerHeight,C=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;w.height<window.innerHeight-b?(l.value="top",g.value=b):M==="up"&&l.value==="bottom"||M==="down"&&l.value==="top"?(g.value=window.scrollY+w.top-C,l.value=!0):M==="down"&&E<=0?(g.value=0,l.value="bottom"):M==="up"&&y<=0&&(C?l.value!=="top"&&(g.value=-y+C+b,l.value="top"):(g.value=w.top+y,l.value="top")),P=window.scrollY}return{isStuck:l,stickyStyles:c}}const _t=100,bt=20;function ge(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function he(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const V=ge(n),l=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);n+=(l-V)*Math.abs(l),o===e.length-1&&(n*=.5)}return ge(n)*1e3}function yt(){const e={};function n(l){Array.from(l.changedTouches).forEach(g=>{(e[g.identifier]??(e[g.identifier]=new we(bt))).push([l.timeStamp,g])})}function o(l){Array.from(l.changedTouches).forEach(g=>{delete e[g.identifier]})}function V(l){var M;const g=(M=e[l])==null?void 0:M.values().reverse();if(!g)throw new Error(`No samples for touch id ${l}`);const c=g[0],P=[],D=[];for(const w of g){if(c[0]-w[0]>_t)break;P.push({t:w[0],d:w[1].clientX}),D.push({t:w[0],d:w[1].clientY})}return{x:he(P),y:he(D),get direction(){const{x:w,y:b}=this,[y,E]=[Math.abs(w),Math.abs(b)];return y>E&&w>=0?"right":y>E&&w<=0?"left":E>y&&b>=0?"down":E>y&&b<=0?"up":pt()}}}return{addMovement:n,endTouch:o,getVelocity:V}}function pt(){throw new Error}function wt(e){let{el:n,isActive:o,isTemporary:V,width:l,touchless:g,position:c}=e;ie(()=>{window.addEventListener("touchstart",z,{passive:!0}),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),_e(()=>{window.removeEventListener("touchstart",z),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",k)});const P=x(()=>["left","right"].includes(c.value)),{addMovement:D,endTouch:M,getVelocity:w}=yt();let b=!1;const y=ee(!1),E=ee(0),C=ee(0);let G;function A(u,d){return(c.value==="left"?u:c.value==="right"?document.documentElement.clientWidth-u:c.value==="top"?u:c.value==="bottom"?document.documentElement.clientHeight-u:K())-(d?l.value:0)}function F(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const v=c.value==="left"?(u-C.value)/l.value:c.value==="right"?(document.documentElement.clientWidth-u-C.value)/l.value:c.value==="top"?(u-C.value)/l.value:c.value==="bottom"?(document.documentElement.clientHeight-u-C.value)/l.value:K();return d?Math.max(0,Math.min(1,v)):v}function z(u){if(g.value)return;const d=u.changedTouches[0].clientX,v=u.changedTouches[0].clientY,m=25,S=c.value==="left"?d<m:c.value==="right"?d>document.documentElement.clientWidth-m:c.value==="top"?v<m:c.value==="bottom"?v>document.documentElement.clientHeight-m:K(),a=o.value&&(c.value==="left"?d<l.value:c.value==="right"?d>document.documentElement.clientWidth-l.value:c.value==="top"?v<l.value:c.value==="bottom"?v>document.documentElement.clientHeight-l.value:K());(S||a||o.value&&V.value)&&(G=[d,v],C.value=A(P.value?d:v,o.value),E.value=F(P.value?d:v),b=C.value>-20&&C.value<80,M(u),D(u))}function I(u){const d=u.changedTouches[0].clientX,v=u.changedTouches[0].clientY;if(b){if(!u.cancelable){b=!1;return}const S=Math.abs(d-G[0]),a=Math.abs(v-G[1]);(P.value?S>a&&S>3:a>S&&a>3)?(y.value=!0,b=!1):(P.value?a:S)>3&&(b=!1)}if(!y.value)return;u.preventDefault(),D(u);const m=F(P.value?d:v,!1);E.value=Math.max(0,Math.min(1,m)),m>1?C.value=A(P.value?d:v,!0):m<0&&(C.value=A(P.value?d:v,!1))}function k(u){if(b=!1,!y.value)return;D(u),y.value=!1;const d=w(u.changedTouches[0].identifier),v=Math.abs(d.x),m=Math.abs(d.y);(P.value?v>m&&v>400:m>v&&m>3)?o.value=d.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||K()):o.value=E.value>.5}const X=x(()=>y.value?{transform:c.value==="left"?`translateX(calc(-100% + ${E.value*l.value}px))`:c.value==="right"?`translateX(calc(100% - ${E.value*l.value}px))`:c.value==="top"?`translateY(calc(-100% + ${E.value*l.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${E.value*l.value}px))`:K(),transition:"none"}:void 0);return le(y,()=>{var v,m;const u=((v=n.value)==null?void 0:v.style.transform)??null,d=((m=n.value)==null?void 0:m.style.transition)??null;ke(()=>{var S,a,t,s;(a=n.value)==null||a.style.setProperty("transform",((S=X.value)==null?void 0:S.transform)||"none"),(s=n.value)==null||s.style.setProperty("transition",((t=X.value)==null?void 0:t.transition)||null)}),Se(()=>{var S,a;(S=n.value)==null||S.style.setProperty("transform",u),(a=n.value)==null||a.style.setProperty("transition",d)})}),{isDragging:y,dragProgress:E,dragStyles:X}}function K(){throw new Error}const kt=["start","end","left","right","top","bottom"],St=Ee({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>kt.includes(e)},sticky:Boolean,...Fe(),...Ae(),...st(),...We({mobile:null}),...Oe(),...ze(),...Ye(),...Ne({tag:"nav"}),...Le()},"VNavigationDrawer"),Dt=De()({name:"VNavigationDrawer",props:St(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:o,emit:V,slots:l}=n;const{isRtl:g}=Ce(),{themeClasses:c}=Te(e),{borderClasses:P}=xe(e),{backgroundColorClasses:D,backgroundColorStyles:M}=ve(fe(e,"color")),{elevationClasses:w}=Pe(e),{displayClasses:b,mobile:y}=Ve(e),{roundedClasses:E}=Me(e),C=Be(),G=Ge(e,"modelValue",null,H=>!!H),{ssrBootStyles:A}=rt(),{scopeId:F}=lt(),z=j(),I=ee(!1),{runOpenDelay:k,runCloseDelay:X}=ot(e,H=>{I.value=H}),u=x(()=>e.rail&&e.expandOnHover&&I.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),d=x(()=>He(e.location,g.value)),v=x(()=>e.persistent),m=x(()=>!e.permanent&&(y.value||e.temporary)),S=x(()=>e.sticky&&!m.value&&d.value!=="bottom");le(()=>e.expandOnHover&&e.rail!=null,()=>{Q(I,H=>V("update:rail",!H))}),le(()=>!e.disableResizeWatcher,()=>{Q(m,H=>!e.permanent&&be(()=>G.value=!H))}),le(()=>!e.disableRouteWatcher&&!!C,()=>{Q(C.currentRoute,()=>m.value&&(G.value=!1))}),Q(()=>e.permanent,H=>{H&&(G.value=!0)}),e.modelValue==null&&!m.value&&(G.value=e.permanent||!y.value);const{isDragging:a,dragProgress:t}=wt({el:z,isActive:G,isTemporary:m,width:u,touchless:fe(e,"touchless"),position:d}),s=x(()=>{const H=m.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):u.value;return a.value?H*t.value:H}),{layoutItemStyles:B,layoutItemScrimStyles:h}=$e({id:e.name,order:x(()=>parseInt(e.order,10)),position:d,layoutSize:s,elementSize:u,active:x(()=>G.value||a.value),disableTransitions:x(()=>a.value),absolute:x(()=>e.absolute||S.value&&typeof N.value!="string")}),{isStuck:N,stickyStyles:q}=ht({rootEl:z,isSticky:S,layoutItemStyles:B}),U=ve(x(()=>typeof e.scrim=="string"?e.scrim:null)),ne=x(()=>({...a.value?{opacity:t.value*.2,transition:"none"}:void 0,...h.value}));return Ie({VList:{bgColor:"transparent"}}),Re(()=>{const H=l.image||e.image;return r(L,null,[r(e.tag,re({ref:z,onMouseenter:k,onMouseleave:X,class:["v-navigation-drawer",`v-navigation-drawer--${d.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":I.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":m.value,"v-navigation-drawer--persistent":v.value,"v-navigation-drawer--active":G.value,"v-navigation-drawer--sticky":S.value},c.value,D.value,P.value,b.value,w.value,E.value,e.class],style:[M.value,B.value,A.value,q.value,e.style]},F,o),{default:()=>{var ue,ce,de;return[H&&r("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?r(je,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},l.image):r(Xe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),l.prepend&&r("div",{class:"v-navigation-drawer__prepend"},[(ue=l.prepend)==null?void 0:ue.call(l)]),r("div",{class:"v-navigation-drawer__content"},[(ce=l.default)==null?void 0:ce.call(l)]),l.append&&r("div",{class:"v-navigation-drawer__append"},[(de=l.append)==null?void 0:de.call(l)])]}}),r(qe,{name:"fade-transition"},{default:()=>[m.value&&(a.value||G.value)&&!!e.scrim&&r("div",re({class:["v-navigation-drawer__scrim",U.backgroundColorClasses.value],style:[ne.value,U.backgroundColorStyles.value],onClick:()=>{v.value||(G.value=!1)}},F),null)]})])}),{isStuck:N}}}),Et={class:"route-container"},Ct={class:"timetable-container-wrapper"},Tt={class:"timetable-header"},xt={class:"channels-tab"},Pt={class:"timetable-header__date-control"},Vt={class:"mx-4 date-display"},Mt={class:"timetable-body"},Bt={key:0,class:"loading-container"},Gt={key:1,class:"timetable-grid-container"},Ht={class:"timeline-container"},$t={class:"hour-text"},It=["onClick"],Rt={class:"program-header"},Lt={class:"program-title"},Nt={class:"program-badges"},Yt={key:0,class:"program-badge program-badge--paid"},zt={key:1,class:"program-badge program-badge--genre"},Ot={key:0,class:"program-description"},Wt={class:"program-time"},At={class:"tooltip-text"},Ft={key:2,class:"loading-container"},Xt={class:"epg-controls-floating"},jt={class:"program-info-badges"},qt={class:"text-body-2 mb-3"},Ut={key:0,class:"program-detail-section"},Zt={class:"program-detail-grid"},Jt={class:"detail-key"},Kt={class:"detail-value"},Qt=Ue({__name:"Timetable",setup(e){const n=gt(),o=Ze(),V=[{id:"ALL",name:"すべて"},{id:"GR",name:"地デジ"},{id:"BS",name:"BS"},{id:"CS",name:"CS"}],l=j(0),g=(a,t)=>{n.setChannelType(a),l.value=t},c={"ニュース・報道":{background:"#5a88a7",text:"#ffffff"},スポーツ:{background:"#e07f5a",text:"#ffffff"},"情報・ワイドショー":{background:"#e7a355",text:"#ffffff"},ドラマ:{background:"#b464a8",text:"#ffffff"},音楽:{background:"#64b46e",text:"#ffffff"},バラエティ:{background:"#e05a8e",text:"#ffffff"},映画:{background:"#a7647e",text:"#ffffff"},"アニメ・特撮":{background:"#e76b55",text:"#ffffff"},"ドキュメンタリー・教養":{background:"#5a88a7",text:"#ffffff"},"劇場・公演":{background:"#a7647e",text:"#ffffff"},"趣味・教育":{background:"#64b46e",text:"#ffffff"},福祉:{background:"#5aa788",text:"#ffffff"},その他:{background:"#7f7f7f",text:"#ffffff"}},P={background:"rgb(var(--v-theme-background-lighten-3))",text:"rgb(var(--v-theme-text))"},D=j(new Date),M=setInterval(()=>{D.value=new Date},60*1e3);Je(()=>{clearInterval(M)});const w=x(()=>{const a=n.current_date,t=a.getFullYear(),s=a.getMonth()+1,B=a.getDate(),h=["日","月","火","水","木","金","土"][a.getDay()];return`${t}年${s}月${B}日 (${h})`}),b=a=>{const t=new Date(a);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},y=a=>{const t=new Date(a);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${b(a)}`},E=(a,t)=>a.length<=t?a:a.substring(0,t)+"...",C=x(()=>{var a;return{"grid-template-columns":`repeat(${((a=n.timetable_channels)==null?void 0:a.length)||0}, minmax(200px, 1fr))`}}),G=(a,t)=>{var ne;const s=new Date(a.start_time),B=(s.getHours()-4+24)%24*60+s.getMinutes(),h=a.duration/60,N=((ne=a.genres[0])==null?void 0:ne.major)||"その他",q=c[N]||P,U={"grid-column":t+1,"grid-row-start":B+1,"grid-row-end":B+h+1,"background-color":q.background,color:q.text,"border-color":q.background};return new Date(a.end_time)<D.value&&(U.opacity=.6,U["pointer-events"]="none"),U},A=x(()=>{const a=new Date,t=n.current_date;return a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate()}),F=x(()=>({top:`${((D.value.getHours()-4+24)%24*60+D.value.getMinutes())*2}px`})),z=a=>a.duration/60>15,I=j(!1),k=j(null),X=a=>{k.value=a,I.value=!0},u=j(!1),d=async a=>{u.value=!0;const t={is_enabled:!0,priority:3,recording_folders:[],recording_start_margin:null,recording_end_margin:null,recording_mode:"SpecifiedService",caption_recording_mode:"Default",data_broadcasting_recording_mode:"Default",post_recording_mode:"Default",post_recording_bat_file_path:null,is_event_relay_follow_enabled:!0,is_exact_recording_enabled:!1,is_oneseg_separate_output_enabled:!1,is_sequential_recording_in_single_file_enabled:!1,forced_tuner_id:null};await et.addReservation(a,t)?(o.show("success","録画予約を追加しました。"),I.value=!1):o.show("error","録画予約の追加に失敗しました。"),u.value=!1},v=async()=>{try{await n.updateEPG(),o.show("success","EPG 取得を開始しました。")}catch(a){o.show("error","EPG 取得に失敗しました。EDCBが起動していることを確認してください。"),console.error("EPG 取得エラー:",a)}},m=async()=>{try{await n.reloadEPG(),o.show("success","EPG を再読み込みしました。")}catch(a){o.show("error","EPG の再読み込みに失敗しました。EDCBが起動していることを確認してください。"),console.error("EPG再読み込みエラー:",a)}};ie(()=>{n.fetchTimetable()});const S=j(!0);return Q(()=>n.timetable_channels,a=>{S.value&&a&&a.length>0&&be(()=>{const t=document.querySelector(".timetable-grid-container");if(!t)return;const s=D.value.getHours(),B=D.value.getMinutes(),N=((s-4+24-1)%24*60+B)*2-50;t.scrollTo({top:N>0?N:0,behavior:"smooth"}),S.value=!1})}),(a,t)=>(f(),p("div",Et,[r(tt),i("main",null,[r(at),i("div",Ct,[r(nt),i("div",Tt,[i("div",xt,[i("div",{class:"channels-tab__buttons",style:J({"--tab-length":V.length,"--active-tab-index":l.value})},[(f(),p(L,null,Y(V,(s,B)=>r(O,{variant:"flat",class:"channels-tab__button",key:s.id,onClick:h=>g(s.id,B)},{default:_(()=>[$(T(s.name),1)]),_:2},1032,["onClick"])),64)),t[3]||(t[3]=i("div",{class:"channels-tab__highlight"},null,-1))],4)]),i("div",Pt,[r(O,{onClick:R(n).setPreviousDate,class:"mr-2"},{default:_(()=>[...t[4]||(t[4]=[$("前日",-1)])]),_:1},8,["onClick"]),i("h2",Vt,T(w.value),1),r(O,{onClick:R(n).setNextDate,class:"ml-2"},{default:_(()=>[...t[5]||(t[5]=[$("翌日",-1)])]),_:1},8,["onClick"]),r(O,{onClick:R(n).setCurrentDate,class:"ml-4"},{default:_(()=>[...t[6]||(t[6]=[$("今日",-1)])]),_:1},8,["onClick"])])]),i("div",Mt,[R(n).is_loading?(f(),p("div",Bt,[r(Ke,{indeterminate:"",size:"64"})])):R(n).timetable_channels&&R(n).timetable_channels.length>0?(f(),p("div",Gt,[t[7]||(t[7]=i("div",{class:"corner-cell"},null,-1)),i("div",{class:"channels-header",style:J(C.value)},[(f(!0),p(L,null,Y(R(n).timetable_channels,s=>(f(),p("div",{key:s.channel.id,class:"channel-header-cell"},T(s.channel.name),1))),128))],4),i("div",Ht,[(f(),p(L,null,Y(25,s=>i("div",{key:s,class:"hour-label"},[i("span",$t,T((s+3)%24),1)])),64))]),i("div",{class:"programs-grid",style:J(C.value)},[A.value?(f(),p("div",{key:0,class:"current-time-line",style:J(F.value)},null,4)):W("",!0),(f(!0),p(L,null,Y(R(n).timetable_channels.length,s=>(f(),p("div",{key:s,class:"channel-border",style:J({gridColumn:s})},null,4))),128)),(f(),p(L,null,Y(24,s=>i("div",{key:s,class:"hour-border",style:J({gridRow:s*60+1})},null,4)),64)),(f(!0),p(L,null,Y(R(n).timetable_channels,(s,B)=>(f(),p(L,null,[(f(!0),p(L,null,Y(s.programs,h=>(f(),te(it,{key:h.id,location:"top",disabled:z(h)},{activator:_(({props:N})=>[i("div",re({ref_for:!0},N,{class:"program-cell elevation-2",style:G(h,B),onClick:q=>X(h)}),[i("div",Rt,[i("div",Lt,T(h.title),1),i("div",Nt,[h.is_free?W("",!0):(f(),p("span",Yt,"有料")),h.genres.length>0?(f(),p("span",zt,T(h.genres[0].major),1)):W("",!0)])]),h.description&&h.duration>=900?(f(),p("div",Ot,T(E(h.description,50)),1)):W("",!0),i("div",Wt,T(b(h.start_time))+" - "+T(b(h.end_time))+" ("+T(Math.floor(h.duration/60))+"分)",1)],16,It)]),default:_(()=>[i("span",At,T(h.title),1)]),_:2},1032,["disabled"]))),128))],64))),256))],4)])):(f(),p("div",Ft,[...t[8]||(t[8]=[i("p",null,"番組情報を取得できませんでした。",-1),i("p",null,"指定された期間・チャンネルに放送される番組がありません。",-1)])]))])])]),i("div",Xt,[r(O,{onClick:v,loading:R(n).is_loading,disabled:R(n).is_loading,color:"primary",variant:"tonal",size:"large",class:"epg-btn"},{default:_(()=>[r(ae,{icon:"mdi-download",class:"mr-1",size:"large"}),t[9]||(t[9]=i("span",null,"EPG取得",-1))]),_:1},8,["loading","disabled"]),r(O,{onClick:m,loading:R(n).is_loading,disabled:R(n).is_loading,color:"secondary",variant:"tonal",size:"large",class:"epg-btn"},{default:_(()=>[r(ae,{icon:"mdi-refresh",class:"mr-1",size:"large"}),t[10]||(t[10]=i("span",null,"EPG再読み込み",-1))]),_:1},8,["loading","disabled"])]),r(Dt,{modelValue:I.value,"onUpdate:modelValue":t[2]||(t[2]=s=>I.value=s),location:"right",temporary:"",width:"600"},{default:_(()=>[k.value?(f(),te(vt,{key:0,class:"detail-panel"},{default:_(()=>[r(ut,{class:"text-h5 pb-2"},{default:_(()=>[$(T(k.value.title),1)]),_:1}),r(ct,{class:"pb-3"},{default:_(()=>[$(T(y(k.value.start_time))+" - "+T(y(k.value.end_time))+" ("+T(Math.floor(k.value.duration/60))+"分)",1)]),_:1}),r(me,{class:"pt-0 pb-2"},{default:_(()=>[i("div",jt,[k.value.is_free?W("",!0):(f(),te(se,{key:0,color:"warning",size:"small",class:"mr-2 mb-2"},{default:_(()=>[r(ae,{start:""},{default:_(()=>[...t[11]||(t[11]=[$("mdi-currency-yen",-1)])]),_:1}),t[12]||(t[12]=$(" 有料放送 ",-1))]),_:1})),k.value.video_resolution==="1080i"||k.value.video_resolution==="1080p"?(f(),te(se,{key:1,color:"success",size:"small",class:"mr-2 mb-2"},{default:_(()=>[r(ae,{start:""},{default:_(()=>[...t[13]||(t[13]=[$("mdi-high-definition",-1)])]),_:1}),t[14]||(t[14]=$(" HD ",-1))]),_:1})):W("",!0),(f(!0),p(L,null,Y(k.value.genres.slice(0,2),s=>(f(),te(se,{key:s.major,color:"primary",variant:"outlined",size:"small",class:"mr-2 mb-2"},{default:_(()=>[$(T(s.major),1)]),_:2},1024))),128))])]),_:1}),r(me,{class:"py-2"},{default:_(()=>[r(ft,{class:"mb-3"}),t[16]||(t[16]=i("h4",{class:"text-subtitle-1 mb-2"},"番組内容",-1)),i("p",qt,T(k.value.description),1),k.value.detail&&Object.keys(k.value.detail).length>0?(f(),p("div",Ut,[t[15]||(t[15]=i("h4",{class:"text-subtitle-1 mb-2"},"詳細情報",-1)),i("div",Zt,[(f(!0),p(L,null,Y(k.value.detail,(s,B)=>(f(),p("div",{key:B,class:"detail-item"},[i("span",Jt,T(B)+":",1),i("span",Kt,T(s),1)]))),128))])])):W("",!0)]),_:1}),r(dt,{class:"detail-panel__actions"},{default:_(()=>[r(mt),r(O,{loading:u.value,onClick:t[0]||(t[0]=s=>d(k.value.id)),color:"primary",variant:"elevated"},{default:_(()=>[r(ae,{start:""},{default:_(()=>[...t[17]||(t[17]=[$("mdi-record-rec",-1)])]),_:1}),t[18]||(t[18]=$(" 録画予約 ",-1))]),_:1},8,["loading"]),r(O,{onClick:t[1]||(t[1]=s=>I.value=!1),variant:"outlined"},{default:_(()=>[...t[19]||(t[19]=[$("閉じる",-1)])]),_:1})]),_:1})]),_:1})):W("",!0)]),_:1},8,["modelValue"])]))}}),va=Qe(Qt,[["__scopeId","data-v-2e6135c4"]]);export{va as default};
