const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C8qqk6Xt.js","assets/index.LDmXtoWb.css"])))=>i.map(i=>d[i]);
import{d as K,ak as j,an as J,Z as U,x as w,U as W,z as X,ag as Z,k as S,h as u,aQ as E,b as t,c as d,e as r,w as f,a as i,r as Y,l as o,ab as ee,v as V,V as P,F as te,g as se,t as b,ao as ne,da as le,M as T,o as a,R as ie,_ as oe}from"./index-C8qqk6Xt.js";import{S as ae}from"./Base-D2zo5EEE.js";import{V as I}from"./VSwitch-BCoouvLD.js";import{c as H,V as de}from"./VSelect-DfIcwawS.js";import{b as p}from"./VTextField-BXinjFAL.js";import{V as v}from"./VChip-BYCaROFZ.js";import"./Navigation-CR-glRw8.js";import"./VSpacer-cX4zvVU_.js";import"./ssrBoot-b7v8xilQ.js";import"./index-CH4ea6kM.js";import"./VSelectionControl-GyQGT6RE.js";import"./forwardRefs-DboJVnh3.js";import"./transition-DrSiicOd.js";import"./dialog-transition-DjTvmh_g.js";import"./VOverlay-BWcIbS0p.js";import"./VAvatar-DHEbkUr3.js";import"./VDivider-BvVjUXSG.js";const re={class:"settings__heading"},ue={key:0,class:"settings__content"},ce={class:"settings__content-heading"},_e={class:"settings__item settings__item--switch"},me={class:"settings__item"},ge={class:"settings__item"},pe={class:"settings__item"},ve={class:"settings__item settings__item--switch"},fe={class:"settings__item"},be={class:"settings__content-heading mt-6"},ye={class:"settings__item"},Ve={class:"settings__item-heading"},ke={class:"settings__item-label"},we={key:0,class:"text-orange-500 d-block mt-1"},xe={key:1,class:"text-orange-500 d-block mt-1"},Ce={class:"settings__item"},Ue={class:"settings__item-heading"},Se={class:"settings__item-label"},Ee={key:0,class:"text-orange-500 d-block mt-1"},Pe={key:1,class:"text-orange-500 d-block mt-1"},Te={class:"settings__item"},He={class:"settings__item-heading"},Ae={class:"settings__item-label"},he={key:0,class:"text-orange-500 d-block mt-1"},Ge={key:1,class:"text-orange-500 d-block mt-1"},Ie={class:"settings__item"},De={class:"settings__item-heading"},ze={class:"settings__item-label"},Ne={key:0,class:"text-orange-500 d-block mt-1"},Me={key:1,class:"text-orange-500 d-block mt-1"},Re={class:"settings__item"},Fe={class:"settings__item-heading"},Qe={class:"settings__item-label"},Be={key:0,class:"text-orange-500 d-block mt-1"},qe={key:1,class:"text-orange-500 d-block mt-1"},Le={class:"settings__item"},$e={class:"settings__item-heading"},Oe={class:"settings__item-label"},Ke={key:0,class:"text-orange-500 d-block mt-1"},je={key:1,class:"text-orange-500 d-block mt-1"},Je={class:"settings__item"},We={class:"settings__item-heading"},Xe={class:"settings__item-label"},Ze={key:0,class:"text-orange-500 d-block mt-1"},Ye={key:1,class:"text-orange-500 d-block mt-1"},et={class:"settings__item"},tt={class:"settings__item-heading"},st={class:"settings__item-label"},nt={key:0,class:"text-orange-500 d-block mt-1"},lt={key:1,class:"text-orange-500 d-block mt-1"},it={key:1,class:"settings__content"},ot={class:"settings__content-heading"},at={class:"settings__item"},dt={class:"encoding-tasks-container"},rt={key:0,class:"encoding-tasks-empty"},ut={key:1,class:"encoding-tasks-list"},ct={class:"encoding-task-header"},_t={class:"encoding-task-title"},mt={class:"encoding-task-actions"},gt={class:"encoding-task-details"},pt={class:"encoding-task-info"},vt={class:"encoding-task-codec"},ft={class:"encoding-task-encoder"},bt={key:0,class:"encoding-task-progress"},yt={class:"encoding-task-progress-text"},Vt={key:1,class:"encoding-task-error"},kt={class:"text-error"},wt={key:2,class:"encoding-task-time"},xt={key:3,class:"encoding-task-time"},Ct=K({__name:"TSReplaceEncoding",setup(Ut){const A=j(),k=J(),n=U(null),x=U(!1),C=U(new Set);async function D(){const l=await E.fetchServerSettings();n.value=l}async function z(){try{const l=await E.fetchHardwareEncoderStatus();x.value=l.hardware_encoder_available}catch(l){console.error("Failed to check hardware encoder availability:",l),x.value=!1}}const N=w(()=>x.value?[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!1,key:"hardware"}]:[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!0,subtitle:"使用できません（対応するGPUが検出されませんでした）",key:"hardware-disabled"}]),m=w(()=>W.isSmartphoneHorizontal()),g=w(()=>A.user===null||A.user.is_admin===!1),c=w(()=>{var l,e;return!((e=(l=n.value)==null?void 0:l.tsreplace_encoding)!=null&&e.auto_encoding_enabled)||g.value}),h=w(()=>k.getAllTasks().sort((l,e)=>{const _={processing:0,queued:1,completed:2,failed:3,cancelled:4},s=_[l.status]??5,y=_[e.status]??5;return s!==y?s-y:l.startedAt&&e.startedAt?e.startedAt.getTime()-l.startedAt.getTime():0}));function M(l){return l<1||l>10?"1以上10以下の値を入力してください。":!0}function R(l){switch(l){case"processing":return"primary";case"queued":return"warning";case"completed":return"success";case"failed":return"error";case"cancelled":return"grey";default:return"grey"}}function F(l){switch(l){case"processing":return"実行中";case"queued":return"待機中";case"completed":return"完了";case"failed":return"失敗";case"cancelled":return"キャンセル";default:return l}}function Q(l){switch(l){case"software":return"ソフトウェア";case"hardware":return"ハードウェア";default:return l}}function G(l){return l.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function B(l){return["queued","processing"].includes(l)}function q(l){return["completed","failed","cancelled"].includes(l)}async function L(l){if(!C.value.has(l)){C.value.add(l);try{const _=await(await le(()=>import("./index-C8qqk6Xt.js").then(s=>s.dX),__vite__mapDeps([0,1]))).default.cancelEncoding(l)}catch(e){console.error("Failed to cancel encoding:",e),T.error("エンコードのキャンセルに失敗しました。")}finally{C.value.delete(l)}}}function $(l){k.removeTask(l)}async function O(){if(n.value===null)return;!x.value&&n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"&&(n.value.tsreplace_encoding.auto_encoding_encoder="software",T.warning("ハードウェアエンコーダーが利用できないため、ソフトウェアエンコードに切り替えました。")),await E.updateServerSettings(n.value)===!0&&T.success(`エンコード設定を更新しました。
変更を反映するためには、KonomiTV サーバーを再起動してください。`)}return X(async()=>{await Promise.all([D(),z()]),k.initializeWebSocket(),k.startPeriodicCleanup(),await k.refreshEncodingQueue()}),Z(()=>{}),(l,e)=>{const _=Y("Icon");return a(),S(ae,null,{default:u(()=>[t("h2",re,[f((a(),d("a",{class:"settings__back-button",onClick:e[0]||(e[0]=s=>l.$router.back())},[i(_,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[ie]]),i(_,{icon:"fluent:video-clip-wand-16-filled",width:"19px",style:{margin:"0 4px"}}),e[16]||(e[16]=t("span",{class:"ml-3"},"エンコード",-1))]),e[78]||(e[78]=t("div",{class:"settings__description"},[o(" 録画終了時の自動エンコードと録画一覧からの手動再エンコードの設定を行えます。"),t("br"),o(" TSReplaceを使用してH.262-TSからH.264/HEVCへの映像変換を行い、ファイルサイズの削減と互換性の向上を図ります。 ")],-1)),e[79]||(e[79]=t("div",{class:"settings__description"},[o(" サーバー設定を変更するには、管理者アカウントでログインしている必要があります。"),t("br")],-1)),e[80]||(e[80]=t("div",{class:"settings__description mt-1"},[o(" [サーバー設定を更新] ボタンを押さずにこのページから離れると、変更内容は破棄されます。"),t("br"),o(" 変更を反映するには KonomiTV サーバーの再起動が必要です。"),t("br")],-1)),n.value?(a(),d("div",ue,[t("div",ce,[i(_,{icon:"fluent:settings-16-filled",width:"20px"}),e[17]||(e[17]=t("span",{class:"ml-3"},"基本設定",-1))]),t("div",_e,[e[18]||(e[18]=t("label",{class:"settings__item-heading",for:"auto_encoding"},"自動エンコード",-1)),e[19]||(e[19]=t("label",{class:"settings__item-label",for:"auto_encoding"},[o(" 録画終了時に自動的にエンコードを行います。"),t("br")],-1)),i(I,{class:"settings__item-switch",color:"primary",id:"auto_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.auto_encoding_enabled,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.tsreplace_encoding.auto_encoding_enabled=s),disabled:g.value},null,8,["modelValue","disabled"])]),t("div",me,[e[20]||(e[20]=t("div",{class:"settings__item-heading"},"エンコードコーデック",-1)),e[21]||(e[21]=t("div",{class:"settings__item-label"},[o(" エンコードに使用するビデオコーデックを選択します。"),t("br"),o(" H.264は高い互換性、H.265(HEVC)はより高い圧縮効率を提供しますが処理時間が長くなります。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"H.264 (AVC)",value:"h264"},{title:"H.265 (HEVC)",value:"hevc"}],density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.auto_encoding_codec,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.tsreplace_encoding.auto_encoding_codec=s),disabled:c.value,"hide-details":""},null,8,["density","modelValue","disabled"])]),t("div",ge,[e[22]||(e[22]=t("div",{class:"settings__item-heading"},"エンコーダー種類",-1)),e[23]||(e[23]=t("div",{class:"settings__item-label"},[o(" ソフトウェアエンコードは高品質、ハードウェアエンコードは高速処理が可能です。"),t("br"),o(" ハードウェアエンコードを使用する場合は、対応するGPUが必要です。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:N.value,modelValue:n.value.tsreplace_encoding.auto_encoding_encoder,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.tsreplace_encoding.auto_encoding_encoder=s),density:m.value?"compact":"default",disabled:c.value,"hide-details":"","item-title":"title","item-value":"value","item-key":"key"},{item:u(({props:s,item:y})=>[i(de,ee(s,{disabled:y.raw.disabled,subtitle:y.raw.subtitle}),null,16,["disabled","subtitle"])]),_:1},8,["items","modelValue","density","disabled"])]),f(t("div",pe,[e[24]||(e[24]=t("div",{class:"settings__item-heading"},"ハードウェアエンコーダー種類",-1)),e[25]||(e[25]=t("div",{class:"settings__item-label"},[o(" 使用するGPUエンコーダーの種類を選択します。"),t("br"),o(" お使いのGPUに対応したエンコーダーを選択してください。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"NVEncC : NVIDIA GPU で利用可能",value:"nvidia"},{title:"VCEEncC : AMD GPU で利用可能",value:"amd"},{title:"QSVEncC : Intel Graphics 搭載 CPU / Intel Arc GPU で利用可能",value:"intel"}],density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.hardware_encoder_type,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.tsreplace_encoding.hardware_encoder_type=s),disabled:c.value,"hide-details":""},null,8,["density","modelValue","disabled"])],512),[[V,n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"]]),t("div",ve,[e[26]||(e[26]=t("label",{class:"settings__item-heading"},"エンコード完了後に元ファイルを削除",-1)),e[27]||(e[27]=t("label",{class:"settings__item-label",for:"delete_original_after_encoding"},[o(" エンコード完了後に元のTSファイルを自動的に削除します。"),t("br"),o(" ストレージ容量の節約になりますが、元ファイルは復元できないため注意してください。 ")],-1)),i(I,{class:"settings__item-switch",color:"primary",id:"delete_original_after_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.delete_original_after_encoding,"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.tsreplace_encoding.delete_original_after_encoding=s),disabled:c.value},null,8,["modelValue","disabled"])]),t("div",fe,[e[28]||(e[28]=t("div",{class:"settings__item-heading"},"最大同時エンコード数",-1)),e[29]||(e[29]=t("div",{class:"settings__item-label"},[o(" 同時に実行できるエンコード処理の最大数を設定します。"),t("br"),o(" 値を大きくするとより多くのファイルを並行処理できますが、システムリソースを多く消費します。 ")],-1)),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",type:"number",min:"1",max:"10",rules:[M],modelValue:n.value.tsreplace_encoding.max_concurrent_encodings,"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.tsreplace_encoding.max_concurrent_encodings=s),modelModifiers:{number:!0},disabled:c.value},null,8,["density","rules","modelValue","disabled"])]),i(P,{class:"settings__save-button bg-secondary mt-6",variant:"flat",disabled:g.value,onClick:e[7]||(e[7]=s=>O())},{default:u(()=>[i(_,{icon:"fluent:save-16-filled",class:"mr-2",height:"23px"}),e[30]||(e[30]=o("エンコード設定を更新 ",-1))]),_:1},8,["disabled"]),t("div",be,[i(_,{icon:"fluent:developer-board-16-filled",width:"20px"}),e[31]||(e[31]=t("span",{class:"ml-2"},"コマンドラインオプション",-1))]),e[73]||(e[73]=t("div",{class:"settings__description"},[o(" 高度なエンコーディング設定です。よくわからない場合はそのままにしてください。"),t("br")],-1)),t("div",ye,[t("div",Ve,[e[33]||(e[33]=o(" ソフトウェアエンコード (CPU) H.264 オプション ",-1)),i(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[32]||(e[32]=[t("span",null,"libx264",-1)])]),_:1})]),t("div",ke,[e[35]||(e[35]=o(" TSReplace経由でFFmpegのlibx264エンコーダーを使用します。高い互換性を持ちます。",-1)),e[36]||(e[36]=t("br",null,null,-1)),c.value?(a(),d("span",we)):g.value?(a(),d("span",xe,[...e[34]||(e[34]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_h264_options,"onUpdate:modelValue":e[8]||(e[8]=s=>n.value.tsreplace_encoding.ffmpeg_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),t("div",Ce,[t("div",Ue,[e[38]||(e[38]=o(" ソフトウェアエンコード (CPU) H.265 オプション ",-1)),i(v,{size:"small",color:"purple-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[37]||(e[37]=[t("span",null,"libx265",-1)])]),_:1})]),t("div",Se,[e[40]||(e[40]=o(" TSReplace経由でFFmpegのlibx265エンコーダーを使用します。H.264より高い圧縮効率を持ちますが、エンコード時間が長くなります。",-1)),e[41]||(e[41]=t("br",null,null,-1)),c.value?(a(),d("span",Ee)):g.value?(a(),d("span",Pe,[...e[39]||(e[39]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_hevc_options,"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.tsreplace_encoding.ffmpeg_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),f(t("div",Te,[t("div",He,[e[43]||(e[43]=o(" NVIDIA GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"green-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[42]||(e[42]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",Ae,[e[45]||(e[45]=o(" NVIDIA GPU使用時のH.264エンコード設定です（NVEncC経由）。",-1)),e[46]||(e[46]=t("br",null,null,-1)),c.value?(a(),d("span",he)):g.value?(a(),d("span",Ge,[...e[44]||(e[44]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_h264_options,"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.tsreplace_encoding.nvidia_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",Ie,[t("div",De,[e[48]||(e[48]=o(" NVIDIA GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"green-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[47]||(e[47]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",ze,[e[50]||(e[50]=o(" NVIDIA GPU使用時のH.265エンコード設定です（NVEncC経由）。",-1)),e[51]||(e[51]=t("br",null,null,-1)),c.value?(a(),d("span",Ne)):g.value?(a(),d("span",Me,[...e[49]||(e[49]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_hevc_options,"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.tsreplace_encoding.nvidia_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",Re,[t("div",Fe,[e[53]||(e[53]=o(" AMD GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"red-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[52]||(e[52]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Qe,[e[55]||(e[55]=o(" AMD GPU使用時のH.264エンコード設定です（VCEEncC経由）。",-1)),e[56]||(e[56]=t("br",null,null,-1)),c.value?(a(),d("span",Be)):g.value?(a(),d("span",qe,[...e[54]||(e[54]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_h264_options,"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.tsreplace_encoding.amd_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",Le,[t("div",$e,[e[58]||(e[58]=o(" AMD GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"red-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[57]||(e[57]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Oe,[e[60]||(e[60]=o(" AMD GPU使用時のH.265エンコード設定です（VCEEncC経由）。",-1)),e[61]||(e[61]=t("br",null,null,-1)),c.value?(a(),d("span",Ke)):g.value?(a(),d("span",je,[...e[59]||(e[59]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_hevc_options,"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.tsreplace_encoding.amd_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",Je,[t("div",We,[e[63]||(e[63]=o(" Intel GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[62]||(e[62]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",Xe,[e[65]||(e[65]=o(" Intel GPU使用時のH.264エンコード設定です（QSVEncC経由）。",-1)),e[66]||(e[66]=t("br",null,null,-1)),c.value?(a(),d("span",Ze)):g.value?(a(),d("span",Ye,[...e[64]||(e[64]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_h264_options,"onUpdate:modelValue":e[14]||(e[14]=s=>n.value.tsreplace_encoding.intel_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]]),f(t("div",et,[t("div",tt,[e[68]||(e[68]=o(" Intel GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"blue-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[67]||(e[67]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",st,[e[71]||(e[71]=o(" Intel GPU使用時のH.265エンコード設定です（QSVEncC経由）。",-1)),e[72]||(e[72]=t("br",null,null,-1)),c.value?(a(),d("span",nt,[...e[69]||(e[69]=[t("strong",null,"※ この設定は自動エンコードが有効な場合のみ変更可能です。",-1)])])):g.value?(a(),d("span",lt,[...e[70]||(e[70]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_hevc_options,"onUpdate:modelValue":e[15]||(e[15]=s=>n.value.tsreplace_encoding.intel_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]])])):r("",!0),n.value?(a(),d("div",it,[t("div",ot,[i(_,{icon:"fluent:task-list-square-16-filled",width:"20px"}),e[74]||(e[74]=t("span",{class:"ml-3"},"エンコードタスク",-1))]),t("div",at,[e[77]||(e[77]=t("div",{class:"settings__item-label"}," 現在実行中および完了したエンコードタスクの一覧です。 ",-1)),t("div",dt,[h.value.length===0?(a(),d("div",rt," エンコードタスクはありません。 ")):(a(),d("div",ut,[(a(!0),d(te,null,se(h.value,s=>(a(),d("div",{key:s.taskId,class:"encoding-task-item"},[t("div",ct,[t("div",_t,b(s.programTitle),1),t("div",mt,[B(s.status)?(a(),S(P,{key:0,size:"x-small",variant:"flat",color:"error",onClick:y=>L(s.taskId),loading:C.value.has(s.taskId)},{default:u(()=>[i(_,{icon:"fluent:stop-20-regular",width:"14px",height:"14px"}),e[75]||(e[75]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1},8,["onClick","loading"])):r("",!0),q(s.status)?(a(),S(P,{key:1,size:"x-small",variant:"flat",color:"grey",onClick:y=>$(s.taskId)},{default:u(()=>[i(_,{icon:"fluent:delete-20-regular",width:"14px",height:"14px"}),e[76]||(e[76]=t("span",{class:"ml-1"},"削除",-1))]),_:1},8,["onClick"])):r("",!0),i(v,{color:R(s.status),size:"small",variant:"flat"},{default:u(()=>[o(b(F(s.status)),1)]),_:2},1032,["color"])])]),t("div",gt,[t("div",pt,[t("span",vt,b(s.codec.toUpperCase()),1),t("span",ft,b(Q(s.encoderType)),1)]),s.status==="processing"?(a(),d("div",bt,[i(ne,{"model-value":s.progress,color:"primary",height:"6",rounded:""},null,8,["model-value"]),t("span",yt,b(s.progress)+"%",1)])):r("",!0),s.errorMessage?(a(),d("div",Vt,[i(_,{icon:"fluent:error-circle-16-filled",width:"16px",class:"text-error"}),t("span",kt,b(s.errorMessage),1)])):r("",!0),s.startedAt?(a(),d("div",wt," 開始: "+b(G(s.startedAt)),1)):r("",!0),s.completedAt?(a(),d("div",xt," 完了: "+b(G(s.completedAt)),1)):r("",!0)])]))),128))]))])])])):r("",!0)]),_:1})}}}),qt=oe(Ct,[["__scopeId","data-v-7d7b875c"]]);export{qt as default};
