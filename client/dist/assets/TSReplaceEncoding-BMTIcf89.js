const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CU3j2ibc.js","assets/index.9nhJiF8H.css"])))=>i.map(i=>d[i]);
import{d as X,ai as j,al as J,X as U,q as w,U as W,y as Y,ae as Z,k as S,h as u,aP as E,b as t,c as d,e as r,w as f,a as i,r as ee,l as o,a9 as te,v as V,V as P,F as se,g as ne,t as b,am as le,da as ie,M as T,o as a,R as oe,_ as ae}from"./index-CU3j2ibc.js";import{S as de}from"./Base-UwDQEdia.js";import{V as I}from"./VSwitch-CJjLPevV.js";import{V as H}from"./VSelect-Dz3VsJe4.js";import{c as re}from"./VMenu-DLEfKmeQ.js";import{b as p}from"./VTextField-BVp0Us4U.js";import{V as v}from"./VChip-B2SNpuE3.js";import"./Navigation-CPvN1oBw.js";import"./VSpacer-DhCidaRv.js";import"./ssrBoot-B4UlnHEu.js";import"./index-B8N0RYGt.js";import"./VSelectionControl-kaH_hfmY.js";import"./forwardRefs-DboJVnh3.js";import"./transition-1w05dROL.js";import"./dialog-transition-Dri6aOQ3.js";import"./VAvatar-ClRGAtrC.js";import"./VDivider-D1-4vxW1.js";const ue={class:"settings__heading"},ce={key:0,class:"settings__content"},_e={class:"settings__content-heading"},me={class:"settings__item settings__item--switch"},ge={class:"settings__item"},pe={class:"settings__item"},ve={class:"settings__item"},fe={class:"settings__item settings__item--switch"},be={class:"settings__item"},ye={class:"settings__content-heading mt-6"},Ve={class:"settings__item"},ke={class:"settings__item-heading"},we={class:"settings__item-label"},xe={key:0,class:"text-orange-500 d-block mt-1"},Ce={key:1,class:"text-orange-500 d-block mt-1"},Ue={class:"settings__item"},Se={class:"settings__item-heading"},Ee={class:"settings__item-label"},Pe={key:0,class:"text-orange-500 d-block mt-1"},Te={key:1,class:"text-orange-500 d-block mt-1"},He={class:"settings__item"},Ae={class:"settings__item-heading"},he={class:"settings__item-label"},Ge={key:0,class:"text-orange-500 d-block mt-1"},Ie={key:1,class:"text-orange-500 d-block mt-1"},De={class:"settings__item"},Ne={class:"settings__item-heading"},ze={class:"settings__item-label"},Me={key:0,class:"text-orange-500 d-block mt-1"},Re={key:1,class:"text-orange-500 d-block mt-1"},Fe={class:"settings__item"},qe={class:"settings__item-heading"},Be={class:"settings__item-label"},Qe={key:0,class:"text-orange-500 d-block mt-1"},Le={key:1,class:"text-orange-500 d-block mt-1"},$e={class:"settings__item"},Oe={class:"settings__item-heading"},Ke={class:"settings__item-label"},Xe={key:0,class:"text-orange-500 d-block mt-1"},je={key:1,class:"text-orange-500 d-block mt-1"},Je={class:"settings__item"},We={class:"settings__item-heading"},Ye={class:"settings__item-label"},Ze={key:0,class:"text-orange-500 d-block mt-1"},et={key:1,class:"text-orange-500 d-block mt-1"},tt={class:"settings__item"},st={class:"settings__item-heading"},nt={class:"settings__item-label"},lt={key:0,class:"text-orange-500 d-block mt-1"},it={key:1,class:"text-orange-500 d-block mt-1"},ot={key:1,class:"settings__content"},at={class:"settings__content-heading"},dt={class:"settings__item"},rt={class:"encoding-tasks-container"},ut={key:0,class:"encoding-tasks-empty"},ct={key:1,class:"encoding-tasks-list"},_t={class:"encoding-task-header"},mt={class:"encoding-task-title"},gt={class:"encoding-task-actions"},pt={class:"encoding-task-details"},vt={class:"encoding-task-info"},ft={class:"encoding-task-codec"},bt={class:"encoding-task-encoder"},yt={key:0,class:"encoding-task-progress"},Vt={class:"encoding-task-progress-text"},kt={key:1,class:"encoding-task-error"},wt={class:"text-error"},xt={key:2,class:"encoding-task-time"},Ct={key:3,class:"encoding-task-time"},Ut=X({__name:"TSReplaceEncoding",setup(St){const A=j(),k=J(),n=U(null),x=U(!1),C=U(new Set);async function D(){const l=await E.fetchServerSettings();n.value=l}async function N(){try{const l=await E.fetchHardwareEncoderStatus();x.value=l.hardware_encoder_available}catch(l){console.error("Failed to check hardware encoder availability:",l),x.value=!1}}const z=w(()=>x.value?[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!1,key:"hardware"}]:[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!0,subtitle:"使用できません（対応するGPUが検出されませんでした）",key:"hardware-disabled"}]),m=w(()=>W.isSmartphoneHorizontal()),g=w(()=>A.user===null||A.user.is_admin===!1),c=w(()=>{var l,e;return!((e=(l=n.value)==null?void 0:l.tsreplace_encoding)!=null&&e.auto_encoding_enabled)||g.value}),h=w(()=>k.getAllTasks().sort((l,e)=>{const _={processing:0,queued:1,completed:2,failed:3,cancelled:4},s=_[l.status]??5,y=_[e.status]??5;return s!==y?s-y:l.startedAt&&e.startedAt?e.startedAt.getTime()-l.startedAt.getTime():0}));function M(l){return l<1||l>10?"1以上10以下の値を入力してください。":!0}function R(l){switch(l){case"processing":return"primary";case"queued":return"warning";case"completed":return"success";case"failed":return"error";case"cancelled":return"grey";default:return"grey"}}function F(l){switch(l){case"processing":return"実行中";case"queued":return"待機中";case"completed":return"完了";case"failed":return"失敗";case"cancelled":return"キャンセル";default:return l}}function q(l){switch(l){case"software":return"ソフトウェア";case"hardware":return"ハードウェア";default:return l}}function G(l){return l.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function B(l){return l.toFixed(1)}function Q(l){return["queued","processing"].includes(l)}function L(l){return["completed","failed","cancelled"].includes(l)}async function $(l){if(!C.value.has(l)){C.value.add(l);try{const _=await(await ie(()=>import("./index-CU3j2ibc.js").then(s=>s.dX),__vite__mapDeps([0,1]))).default.cancelEncoding(l)}catch(e){console.error("Failed to cancel encoding:",e),T.error("エンコードのキャンセルに失敗しました。")}finally{C.value.delete(l)}}}function O(l){k.removeTask(l)}async function K(){if(n.value===null)return;!x.value&&n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"&&(n.value.tsreplace_encoding.auto_encoding_encoder="software",T.warning("ハードウェアエンコーダーが利用できないため、ソフトウェアエンコードに切り替えました。")),await E.updateServerSettings(n.value)===!0&&T.success(`エンコード設定を更新しました。
変更を反映するためには、KonomiTV サーバーを再起動してください。`)}return Y(async()=>{await Promise.all([D(),N()]),k.initializeWebSocket(),k.startPeriodicCleanup(),await k.refreshEncodingQueue()}),Z(()=>{}),(l,e)=>{const _=ee("Icon");return a(),S(de,null,{default:u(()=>[t("h2",ue,[f((a(),d("a",{class:"settings__back-button",onClick:e[0]||(e[0]=s=>l.$router.back())},[i(_,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[oe]]),i(_,{icon:"fluent:video-clip-wand-16-filled",width:"19px",style:{margin:"0 4px"}}),e[16]||(e[16]=t("span",{class:"ml-3"},"エンコード",-1))]),e[78]||(e[78]=t("div",{class:"settings__description"},[o(" 録画終了時の自動エンコードと録画一覧からの手動再エンコードの設定を行えます。"),t("br"),o(" TSReplaceを使用してH.262-TSからH.264/HEVCへの映像変換を行い、ファイルサイズの削減と互換性の向上を図ります。 ")],-1)),e[79]||(e[79]=t("div",{class:"settings__description"},[o(" サーバー設定を変更するには、管理者アカウントでログインしている必要があります。"),t("br")],-1)),e[80]||(e[80]=t("div",{class:"settings__description mt-1"},[o(" [サーバー設定を更新] ボタンを押さずにこのページから離れると、変更内容は破棄されます。"),t("br"),o(" 変更を反映するには KonomiTV サーバーの再起動が必要です。"),t("br")],-1)),n.value?(a(),d("div",ce,[t("div",_e,[i(_,{icon:"fluent:settings-16-filled",width:"20px"}),e[17]||(e[17]=t("span",{class:"ml-3"},"基本設定",-1))]),t("div",me,[e[18]||(e[18]=t("label",{class:"settings__item-heading",for:"auto_encoding"},"自動エンコード",-1)),e[19]||(e[19]=t("label",{class:"settings__item-label",for:"auto_encoding"},[o(" 録画終了時に自動的にエンコードを行います。"),t("br")],-1)),i(I,{class:"settings__item-switch",color:"primary",id:"auto_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.auto_encoding_enabled,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.tsreplace_encoding.auto_encoding_enabled=s),disabled:g.value},null,8,["modelValue","disabled"])]),t("div",ge,[e[20]||(e[20]=t("div",{class:"settings__item-heading"},"エンコードコーデック",-1)),e[21]||(e[21]=t("div",{class:"settings__item-label"},[o(" エンコードに使用するビデオコーデックを選択します。"),t("br"),o(" H.264は高い互換性、H.265(HEVC)はより高い圧縮効率を提供しますが処理時間が長くなります。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"H.264 (AVC)",value:"h264"},{title:"H.265 (HEVC)",value:"hevc"}],density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.auto_encoding_codec,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.tsreplace_encoding.auto_encoding_codec=s),disabled:c.value,"hide-details":""},null,8,["density","modelValue","disabled"])]),t("div",pe,[e[22]||(e[22]=t("div",{class:"settings__item-heading"},"エンコーダー種類",-1)),e[23]||(e[23]=t("div",{class:"settings__item-label"},[o(" ソフトウェアエンコードは高品質、ハードウェアエンコードは高速処理が可能です。"),t("br"),o(" ハードウェアエンコードを使用する場合は、対応するGPUが必要です。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:z.value,modelValue:n.value.tsreplace_encoding.auto_encoding_encoder,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.tsreplace_encoding.auto_encoding_encoder=s),density:m.value?"compact":"default",disabled:c.value,"hide-details":"","item-title":"title","item-value":"value","item-key":"key"},{item:u(({props:s,item:y})=>[i(re,te(s,{disabled:y.raw.disabled,subtitle:y.raw.subtitle}),null,16,["disabled","subtitle"])]),_:1},8,["items","modelValue","density","disabled"])]),f(t("div",ve,[e[24]||(e[24]=t("div",{class:"settings__item-heading"},"ハードウェアエンコーダー種類",-1)),e[25]||(e[25]=t("div",{class:"settings__item-label"},[o(" 使用するGPUエンコーダーの種類を選択します。"),t("br"),o(" お使いのGPUに対応したエンコーダーを選択してください。 ")],-1)),i(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"NVEncC : NVIDIA GPU で利用可能",value:"nvidia"},{title:"VCEEncC : AMD GPU で利用可能",value:"amd"},{title:"QSVEncC : Intel Graphics 搭載 CPU / Intel Arc GPU で利用可能",value:"intel"}],density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.hardware_encoder_type,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.tsreplace_encoding.hardware_encoder_type=s),disabled:c.value,"hide-details":""},null,8,["density","modelValue","disabled"])],512),[[V,n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"]]),t("div",fe,[e[26]||(e[26]=t("label",{class:"settings__item-heading"},"エンコード完了後に元ファイルを削除",-1)),e[27]||(e[27]=t("label",{class:"settings__item-label",for:"delete_original_after_encoding"},[o(" エンコード完了後に元のTSファイルを自動的に削除します。"),t("br"),o(" ストレージ容量の節約になりますが、元ファイルは復元できないため注意してください。 ")],-1)),i(I,{class:"settings__item-switch",color:"primary",id:"delete_original_after_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.delete_original_after_encoding,"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.tsreplace_encoding.delete_original_after_encoding=s),disabled:c.value},null,8,["modelValue","disabled"])]),t("div",be,[e[28]||(e[28]=t("div",{class:"settings__item-heading"},"最大同時エンコード数",-1)),e[29]||(e[29]=t("div",{class:"settings__item-label"},[o(" 同時に実行できるエンコード処理の最大数を設定します。"),t("br"),o(" 値を大きくするとより多くのファイルを並行処理できますが、システムリソースを多く消費します。 ")],-1)),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",type:"number",min:"1",max:"10",rules:[M],modelValue:n.value.tsreplace_encoding.max_concurrent_encodings,"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.tsreplace_encoding.max_concurrent_encodings=s),modelModifiers:{number:!0},disabled:c.value},null,8,["density","rules","modelValue","disabled"])]),i(P,{class:"settings__save-button bg-secondary mt-6",variant:"flat",disabled:g.value,onClick:e[7]||(e[7]=s=>K())},{default:u(()=>[i(_,{icon:"fluent:save-16-filled",class:"mr-2",height:"23px"}),e[30]||(e[30]=o("エンコード設定を更新 ",-1))]),_:1},8,["disabled"]),t("div",ye,[i(_,{icon:"fluent:developer-board-16-filled",width:"20px"}),e[31]||(e[31]=t("span",{class:"ml-2"},"コマンドラインオプション",-1))]),e[73]||(e[73]=t("div",{class:"settings__description"},[o(" 高度なエンコーディング設定です。よくわからない場合はそのままにしてください。"),t("br")],-1)),t("div",Ve,[t("div",ke,[e[33]||(e[33]=o(" ソフトウェアエンコード (CPU) H.264 オプション ",-1)),i(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[32]||(e[32]=[t("span",null,"libx264",-1)])]),_:1})]),t("div",we,[e[35]||(e[35]=o(" TSReplace経由でFFmpegのlibx264エンコーダーを使用します。高い互換性を持ちます。",-1)),e[36]||(e[36]=t("br",null,null,-1)),c.value?(a(),d("span",xe)):g.value?(a(),d("span",Ce,[...e[34]||(e[34]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_h264_options,"onUpdate:modelValue":e[8]||(e[8]=s=>n.value.tsreplace_encoding.ffmpeg_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),t("div",Ue,[t("div",Se,[e[38]||(e[38]=o(" ソフトウェアエンコード (CPU) H.265 オプション ",-1)),i(v,{size:"small",color:"purple-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[37]||(e[37]=[t("span",null,"libx265",-1)])]),_:1})]),t("div",Ee,[e[40]||(e[40]=o(" TSReplace経由でFFmpegのlibx265エンコーダーを使用します。H.264より高い圧縮効率を持ちますが、エンコード時間が長くなります。",-1)),e[41]||(e[41]=t("br",null,null,-1)),c.value?(a(),d("span",Pe)):g.value?(a(),d("span",Te,[...e[39]||(e[39]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_hevc_options,"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.tsreplace_encoding.ffmpeg_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),f(t("div",He,[t("div",Ae,[e[43]||(e[43]=o(" NVIDIA GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"green-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[42]||(e[42]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",he,[e[45]||(e[45]=o(" NVIDIA GPU使用時のH.264エンコード設定です（NVEncC経由）。",-1)),e[46]||(e[46]=t("br",null,null,-1)),c.value?(a(),d("span",Ge)):g.value?(a(),d("span",Ie,[...e[44]||(e[44]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_h264_options,"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.tsreplace_encoding.nvidia_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",De,[t("div",Ne,[e[48]||(e[48]=o(" NVIDIA GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"green-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[47]||(e[47]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",ze,[e[50]||(e[50]=o(" NVIDIA GPU使用時のH.265エンコード設定です（NVEncC経由）。",-1)),e[51]||(e[51]=t("br",null,null,-1)),c.value?(a(),d("span",Me)):g.value?(a(),d("span",Re,[...e[49]||(e[49]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_hevc_options,"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.tsreplace_encoding.nvidia_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",Fe,[t("div",qe,[e[53]||(e[53]=o(" AMD GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"red-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[52]||(e[52]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Be,[e[55]||(e[55]=o(" AMD GPU使用時のH.264エンコード設定です（VCEEncC経由）。",-1)),e[56]||(e[56]=t("br",null,null,-1)),c.value?(a(),d("span",Qe)):g.value?(a(),d("span",Le,[...e[54]||(e[54]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_h264_options,"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.tsreplace_encoding.amd_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",$e,[t("div",Oe,[e[58]||(e[58]=o(" AMD GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"red-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[57]||(e[57]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Ke,[e[60]||(e[60]=o(" AMD GPU使用時のH.265エンコード設定です（VCEEncC経由）。",-1)),e[61]||(e[61]=t("br",null,null,-1)),c.value?(a(),d("span",Xe)):g.value?(a(),d("span",je,[...e[59]||(e[59]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_hevc_options,"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.tsreplace_encoding.amd_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",Je,[t("div",We,[e[63]||(e[63]=o(" Intel GPU H.264 エンコードオプション ",-1)),i(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[62]||(e[62]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",Ye,[e[65]||(e[65]=o(" Intel GPU使用時のH.264エンコード設定です（QSVEncC経由）。",-1)),e[66]||(e[66]=t("br",null,null,-1)),c.value?(a(),d("span",Ze)):g.value?(a(),d("span",et,[...e[64]||(e[64]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_h264_options,"onUpdate:modelValue":e[14]||(e[14]=s=>n.value.tsreplace_encoding.intel_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]]),f(t("div",tt,[t("div",st,[e[68]||(e[68]=o(" Intel GPU H.265 エンコードオプション ",-1)),i(v,{size:"small",color:"blue-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[67]||(e[67]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",nt,[e[71]||(e[71]=o(" Intel GPU使用時のH.265エンコード設定です（QSVEncC経由）。",-1)),e[72]||(e[72]=t("br",null,null,-1)),c.value?(a(),d("span",lt,[...e[69]||(e[69]=[t("strong",null,"※ この設定は自動エンコードが有効な場合のみ変更可能です。",-1)])])):g.value?(a(),d("span",it,[...e[70]||(e[70]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),i(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:m.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_hevc_options,"onUpdate:modelValue":e[15]||(e[15]=s=>n.value.tsreplace_encoding.intel_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]])])):r("",!0),n.value?(a(),d("div",ot,[t("div",at,[i(_,{icon:"fluent:task-list-square-16-filled",width:"20px"}),e[74]||(e[74]=t("span",{class:"ml-3"},"エンコードタスク",-1))]),t("div",dt,[e[77]||(e[77]=t("div",{class:"settings__item-label"}," 現在実行中および完了したエンコードタスクの一覧です。 ",-1)),t("div",rt,[h.value.length===0?(a(),d("div",ut," エンコードタスクはありません。 ")):(a(),d("div",ct,[(a(!0),d(se,null,ne(h.value,s=>(a(),d("div",{key:s.taskId,class:"encoding-task-item"},[t("div",_t,[t("div",mt,b(s.programTitle),1),t("div",gt,[Q(s.status)?(a(),S(P,{key:0,size:"x-small",variant:"flat",color:"error",onClick:y=>$(s.taskId),loading:C.value.has(s.taskId)},{default:u(()=>[i(_,{icon:"fluent:stop-20-regular",width:"14px",height:"14px"}),e[75]||(e[75]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1},8,["onClick","loading"])):r("",!0),L(s.status)?(a(),S(P,{key:1,size:"x-small",variant:"flat",color:"grey",onClick:y=>O(s.taskId)},{default:u(()=>[i(_,{icon:"fluent:delete-20-regular",width:"14px",height:"14px"}),e[76]||(e[76]=t("span",{class:"ml-1"},"削除",-1))]),_:1},8,["onClick"])):r("",!0),i(v,{color:R(s.status),size:"small",variant:"flat"},{default:u(()=>[o(b(F(s.status)),1)]),_:2},1032,["color"])])]),t("div",pt,[t("div",vt,[t("span",ft,b(s.codec.toUpperCase()),1),t("span",bt,b(q(s.encoderType)),1)]),s.status==="processing"?(a(),d("div",yt,[i(le,{"model-value":s.progress,color:"primary",height:"6",rounded:""},null,8,["model-value"]),t("span",Vt,b(B(s.progress))+"%",1)])):r("",!0),s.errorMessage?(a(),d("div",kt,[i(_,{icon:"fluent:error-circle-16-filled",width:"16px",class:"text-error"}),t("span",wt,b(s.errorMessage),1)])):r("",!0),s.startedAt?(a(),d("div",xt," 開始: "+b(G(s.startedAt)),1)):r("",!0),s.completedAt?(a(),d("div",Ct," 完了: "+b(G(s.completedAt)),1)):r("",!0)])]))),128))]))])])])):r("",!0)]),_:1})}}}),Lt=ae(Ut,[["__scopeId","data-v-9eeea99b"]]);export{Lt as default};
