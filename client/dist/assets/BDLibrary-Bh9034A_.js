import{ax as e}from"./index-CU3j2ibc.js";class n{static async fetchBDLibraryList(t=1){const r=await e.get(`/bd-library/?page=${t}`,{headers:{Authorization:void 0}});if(r.type==="error")return e.showGenericError(r,"BDライブラリ一覧の取得に失敗しました。"),{items:[],total:0};const s=r.data;return Array.isArray(s)?{items:s,total:s.length}:s&&Array.isArray(s.items)?{items:s.items,total:Number(s.total??s.items.length)}:{items:[],total:0}}static async fetchBDLibraryItem(t){const r=await e.get(`/bd-library/${t}`,{headers:{Authorization:void 0}});return r.type==="error"?(e.showGenericError(r,"BDライブラリ情報の取得に失敗しました。"),null):r.data}static async fetchBDLibraryTracks(t){const r=await e.get(`/bd-library/${t}/tracks`,{headers:{Authorization:void 0}});return r.type==="error"?(e.showGenericError(r,"BDライブラリの音声・字幕トラック情報の取得に失敗しました。"),null):r.data}static async fetchBDLibraryChapters(t){const r=await e.get(`/bd-library/${t}/chapters`,{headers:{Authorization:void 0}});return r.type==="error"?(e.showGenericError(r,"BDライブラリのチャプター情報の取得に失敗しました。"),null):r.data}static async searchBDLibrary(t){const r=await e.post("/bd-library/search",t,{headers:{Authorization:void 0}});return r.type==="error"?(e.showGenericError(r,"BDライブラリの検索に失敗しました。"),[]):r.data}static async fetchBDHistoryList(){const t=await e.get("/bd-library/history");return t.type==="error"?t.status===401?[]:(e.showGenericError(t,"BD視聴履歴の取得に失敗しました。"),[]):t.data}static async addBDHistory(t,r,s){const a=await e.post("/bd-library/history",{bd_id:t,position:r,duration:s});return a.type==="error"?(a.status===401||e.showGenericError(a,"BD視聴履歴の追加に失敗しました。"),!1):!0}static async removeBDHistory(t){const r=await e.delete(`/bd-library/history/${t}`);return r.type==="error"?(r.status===401||e.showGenericError(r,"BD視聴履歴の削除に失敗しました。"),!1):!0}static async clearBDHistory(){const t=await e.delete("/bd-library/history");return t.type==="error"?(t.status===401||e.showGenericError(t,"BD視聴履歴の全削除に失敗しました。"),!1):!0}static async fetchBDMylistList(){const t=await e.get("/bd-library/mylist");return t.type==="error"?t.status===401?[]:[]:t.data}static async addBDMylist(t){const r=await e.post("/bd-library/mylist",{bd_id:t});return r.type==="error"?r.status===401?(e.showGenericError(r,"ログインが必要です。"),!1):(e.showGenericError(r,"BDマイリストの追加に失敗しました。"),!1):!0}static async removeBDMylist(t){const r=await e.delete(`/bd-library/mylist/${t}`);return r.type==="error"?r.status===401?(e.showGenericError(r,"ログインが必要です。"),!1):(e.showGenericError(r,"BDマイリストの削除に失敗しました。"),!1):!0}static async clearBDMylist(){const t=await e.delete("/bd-library/mylist");return t.type==="error"?t.status===401?(e.showGenericError(t,"ログインが必要です。"),!1):(e.showGenericError(t,"BDマイリストの全削除に失敗しました。"),!1):!0}static async deleteBD(t){const r=await e.delete(`/bd-library/${t}`);return r.type==="error"?(e.showGenericError(r,"BDライブラリの削除に失敗しました。"),!1):!0}}export{n as B};
