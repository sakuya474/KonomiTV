const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CFRmVj-Y.js","assets/index.9nhJiF8H.css"])))=>i.map(i=>d[i]);
import{d as X,ai as j,al as J,X as C,q as w,U as W,y as Y,ae as Z,k as S,h as u,aP as E,b as t,c as d,e as r,w as f,a as o,r as ee,l as i,a9 as te,v as V,V as P,F as se,g as ne,t as b,am as le,da as ie,M as T,o as a,R as oe,_ as ae}from"./index-CFRmVj-Y.js";import{S as de}from"./Base-kto3L5Hd.js";import{V as h}from"./VSwitch-bgrM1kcB.js";import{V as H}from"./VSelect-DFF-aztk.js";import{c as re}from"./VMenu-CW7lKOSP.js";import{b as p}from"./VTextField-C0E7igXq.js";import{V as v}from"./VChip-BXS4KwPG.js";import"./Navigation-C_TjiY9x.js";import"./VSpacer-741NzAEG.js";import"./ssrBoot-D7WwHxqw.js";import"./index-qXmCQgxI.js";import"./VSelectionControl-CpejDoaR.js";import"./forwardRefs-DboJVnh3.js";import"./transition-D6g6Lsg2.js";import"./dialog-transition---DyTlu5.js";import"./VAvatar-DeITZ6Z7.js";import"./VDivider-CgXiyw5_.js";const ue={class:"settings__heading"},ce={key:0,class:"settings__content"},_e={class:"settings__content-heading"},me={class:"settings__item settings__item--switch"},ge={class:"settings__item"},pe={class:"settings__item"},ve={class:"settings__item"},fe={class:"settings__item settings__item--switch"},be={class:"settings__item"},ye={class:"settings__item"},Ve={class:"settings__content-heading mt-6"},ke={class:"settings__item"},we={class:"settings__item-heading"},xe={class:"settings__item-label"},Ue={key:0,class:"text-orange-500 d-block mt-1"},Ce={key:1,class:"text-orange-500 d-block mt-1"},Se={class:"settings__item"},Ee={class:"settings__item-heading"},Pe={class:"settings__item-label"},Te={key:0,class:"text-orange-500 d-block mt-1"},He={key:1,class:"text-orange-500 d-block mt-1"},Ae={class:"settings__item"},Ge={class:"settings__item-heading"},Ie={class:"settings__item-label"},he={key:0,class:"text-orange-500 d-block mt-1"},De={key:1,class:"text-orange-500 d-block mt-1"},Ne={class:"settings__item"},ze={class:"settings__item-heading"},Me={class:"settings__item-label"},Re={key:0,class:"text-orange-500 d-block mt-1"},Fe={key:1,class:"text-orange-500 d-block mt-1"},qe={class:"settings__item"},Be={class:"settings__item-heading"},Qe={class:"settings__item-label"},Le={key:0,class:"text-orange-500 d-block mt-1"},$e={key:1,class:"text-orange-500 d-block mt-1"},Oe={class:"settings__item"},Ke={class:"settings__item-heading"},Xe={class:"settings__item-label"},je={key:0,class:"text-orange-500 d-block mt-1"},Je={key:1,class:"text-orange-500 d-block mt-1"},We={class:"settings__item"},Ye={class:"settings__item-heading"},Ze={class:"settings__item-label"},et={key:0,class:"text-orange-500 d-block mt-1"},tt={key:1,class:"text-orange-500 d-block mt-1"},st={class:"settings__item"},nt={class:"settings__item-heading"},lt={class:"settings__item-label"},it={key:0,class:"text-orange-500 d-block mt-1"},ot={key:1,class:"text-orange-500 d-block mt-1"},at={key:1,class:"settings__content"},dt={class:"settings__content-heading"},rt={class:"settings__item"},ut={class:"encoding-tasks-container"},ct={key:0,class:"encoding-tasks-empty"},_t={key:1,class:"encoding-tasks-list"},mt={class:"encoding-task-header"},gt={class:"encoding-task-title"},pt={class:"encoding-task-actions"},vt={class:"encoding-task-details"},ft={class:"encoding-task-info"},bt={class:"encoding-task-codec"},yt={class:"encoding-task-encoder"},Vt={key:0,class:"encoding-task-progress"},kt={class:"encoding-task-progress-text"},wt={key:1,class:"encoding-task-error"},xt={class:"text-error"},Ut={key:2,class:"encoding-task-time"},Ct={key:3,class:"encoding-task-time"},St=X({__name:"TSReplaceEncoding",setup(Et){const A=j(),k=J(),n=C(null),x=C(!1),U=C(new Set);async function D(){const l=await E.fetchServerSettings();n.value=l}async function N(){try{const l=await E.fetchHardwareEncoderStatus();x.value=l.hardware_encoder_available}catch(l){console.error("Failed to check hardware encoder availability:",l),x.value=!1}}const z=w(()=>x.value?[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!1,key:"hardware"}]:[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!0,subtitle:"使用できません（対応するGPUが検出されませんでした）",key:"hardware-disabled"}]),c=w(()=>W.isSmartphoneHorizontal()),g=w(()=>A.user===null||A.user.is_admin===!1),_=w(()=>{var l,e;return!((e=(l=n.value)==null?void 0:l.tsreplace_encoding)!=null&&e.auto_encoding_enabled)||g.value}),G=w(()=>k.getAllTasks().sort((l,e)=>{const m={processing:0,queued:1,completed:2,failed:3,cancelled:4},s=m[l.status]??5,y=m[e.status]??5;return s!==y?s-y:l.startedAt&&e.startedAt?e.startedAt.getTime()-l.startedAt.getTime():0}));function M(l){return l<1||l>10?"1以上10以下の値を入力してください。":!0}function R(l){switch(l){case"processing":return"primary";case"queued":return"warning";case"completed":return"success";case"failed":return"error";case"cancelled":return"grey";default:return"grey"}}function F(l){switch(l){case"processing":return"実行中";case"queued":return"待機中";case"completed":return"完了";case"failed":return"失敗";case"cancelled":return"キャンセル";default:return l}}function q(l){switch(l){case"software":return"ソフトウェア";case"hardware":return"ハードウェア";default:return l}}function I(l){return l.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function B(l){return l.toFixed(1)}function Q(l){return["queued","processing"].includes(l)}function L(l){return["completed","failed","cancelled"].includes(l)}async function $(l){if(!U.value.has(l)){U.value.add(l);try{const m=await(await ie(()=>import("./index-CFRmVj-Y.js").then(s=>s.dX),__vite__mapDeps([0,1]))).default.cancelEncoding(l)}catch(e){console.error("Failed to cancel encoding:",e),T.error("エンコードのキャンセルに失敗しました。")}finally{U.value.delete(l)}}}function O(l){k.removeTask(l)}async function K(){if(n.value===null)return;!x.value&&n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"&&(n.value.tsreplace_encoding.auto_encoding_encoder="software",T.warning("ハードウェアエンコーダーが利用できないため、ソフトウェアエンコードに切り替えました。")),await E.updateServerSettings(n.value)===!0&&T.success(`エンコード設定を更新しました。
変更を反映するためには、KonomiTV サーバーを再起動してください。`)}return Y(async()=>{await Promise.all([D(),N()]),k.initializeWebSocket(),k.startPeriodicCleanup(),await k.refreshEncodingQueue()}),Z(()=>{}),(l,e)=>{const m=ee("Icon");return a(),S(de,null,{default:u(()=>[t("h2",ue,[f((a(),d("a",{class:"settings__back-button",onClick:e[0]||(e[0]=s=>l.$router.back())},[o(m,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[oe]]),o(m,{icon:"fluent:video-clip-wand-16-filled",width:"19px",style:{margin:"0 4px"}}),e[17]||(e[17]=t("span",{class:"ml-3"},"エンコード",-1))]),e[81]||(e[81]=t("div",{class:"settings__description"},[i(" 録画終了時の自動エンコードと録画一覧からの手動再エンコードの設定を行えます。"),t("br"),i(" TSReplaceを使用してH.262-TSからH.264/HEVCへの映像変換を行い、ファイルサイズの削減と互換性の向上を図ります。 ")],-1)),e[82]||(e[82]=t("div",{class:"settings__description"},[i(" サーバー設定を変更するには、管理者アカウントでログインしている必要があります。"),t("br")],-1)),e[83]||(e[83]=t("div",{class:"settings__description mt-1"},[i(" [サーバー設定を更新] ボタンを押さずにこのページから離れると、変更内容は破棄されます。"),t("br"),i(" 変更を反映するには KonomiTV サーバーの再起動が必要です。"),t("br")],-1)),n.value?(a(),d("div",ce,[t("div",_e,[o(m,{icon:"fluent:settings-16-filled",width:"20px"}),e[18]||(e[18]=t("span",{class:"ml-3"},"基本設定",-1))]),t("div",me,[e[19]||(e[19]=t("label",{class:"settings__item-heading",for:"auto_encoding"},"自動エンコード",-1)),e[20]||(e[20]=t("label",{class:"settings__item-label",for:"auto_encoding"},[i(" 録画終了時に自動的にエンコードを行います。"),t("br")],-1)),o(h,{class:"settings__item-switch",color:"primary",id:"auto_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.auto_encoding_enabled,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.tsreplace_encoding.auto_encoding_enabled=s),disabled:g.value},null,8,["modelValue","disabled"])]),t("div",ge,[e[21]||(e[21]=t("div",{class:"settings__item-heading"},"エンコードコーデック",-1)),e[22]||(e[22]=t("div",{class:"settings__item-label"},[i(" エンコードに使用するビデオコーデックを選択します。"),t("br"),i(" H.264は高い互換性、H.265(HEVC)はより高い圧縮効率を提供しますが処理時間が長くなります。 ")],-1)),o(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"H.264 (AVC)",value:"h264"},{title:"H.265 (HEVC)",value:"hevc"}],density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.auto_encoding_codec,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.tsreplace_encoding.auto_encoding_codec=s),disabled:_.value,"hide-details":""},null,8,["density","modelValue","disabled"])]),t("div",pe,[e[23]||(e[23]=t("div",{class:"settings__item-heading"},"エンコーダー種類",-1)),e[24]||(e[24]=t("div",{class:"settings__item-label"},[i(" ソフトウェアエンコードは高品質、ハードウェアエンコードは高速処理が可能です。"),t("br"),i(" ハードウェアエンコードを使用する場合は、対応するGPUが必要です。 ")],-1)),o(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:z.value,modelValue:n.value.tsreplace_encoding.auto_encoding_encoder,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.tsreplace_encoding.auto_encoding_encoder=s),density:c.value?"compact":"default",disabled:_.value,"hide-details":"","item-title":"title","item-value":"value","item-key":"key"},{item:u(({props:s,item:y})=>[o(re,te(s,{disabled:y.raw.disabled,subtitle:y.raw.subtitle}),null,16,["disabled","subtitle"])]),_:1},8,["items","modelValue","density","disabled"])]),f(t("div",ve,[e[25]||(e[25]=t("div",{class:"settings__item-heading"},"ハードウェアエンコーダー種類",-1)),e[26]||(e[26]=t("div",{class:"settings__item-label"},[i(" 使用するGPUエンコーダーの種類を選択します。"),t("br"),i(" お使いのGPUに対応したエンコーダーを選択してください。 ")],-1)),o(H,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"NVEncC : NVIDIA GPU で利用可能",value:"nvidia"},{title:"VCEEncC : AMD GPU で利用可能",value:"amd"},{title:"QSVEncC : Intel Graphics 搭載 CPU / Intel Arc GPU で利用可能",value:"intel"}],density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.hardware_encoder_type,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.tsreplace_encoding.hardware_encoder_type=s),disabled:_.value,"hide-details":""},null,8,["density","modelValue","disabled"])],512),[[V,n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"]]),t("div",fe,[e[27]||(e[27]=t("label",{class:"settings__item-heading"},"エンコード完了後に元ファイルを削除",-1)),e[28]||(e[28]=t("label",{class:"settings__item-label",for:"delete_original_after_encoding"},[i(" エンコード完了後に元のTSファイルを自動的に削除します。"),t("br"),i(" ストレージ容量の節約になりますが、元ファイルは復元できないため注意してください。 ")],-1)),o(h,{class:"settings__item-switch",color:"primary",id:"delete_original_after_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.delete_original_after_encoding,"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.tsreplace_encoding.delete_original_after_encoding=s),disabled:_.value},null,8,["modelValue","disabled"])]),t("div",be,[e[29]||(e[29]=t("div",{class:"settings__item-heading"},"最大同時エンコード数",-1)),e[30]||(e[30]=t("div",{class:"settings__item-label"},[i(" 同時に実行できるエンコード処理の最大数を設定します。"),t("br"),i(" 値を大きくするとより多くのファイルを並行処理できますが、システムリソースを多く消費します。 ")],-1)),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",type:"number",min:"1",max:"10",rules:[M],modelValue:n.value.tsreplace_encoding.max_concurrent_encodings,"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.tsreplace_encoding.max_concurrent_encodings=s),modelModifiers:{number:!0},disabled:_.value},null,8,["density","rules","modelValue","disabled"])]),t("div",ye,[e[31]||(e[31]=t("div",{class:"settings__item-heading"},"エンコード済みファイルの保存先フォルダ",-1)),e[32]||(e[32]=t("div",{class:"settings__item-label"},[i(" エンコード済みファイルの保存先フォルダの絶対パスを指定してください。"),t("br"),i(" 空欄にすると、録画フォルダ内に Encoded フォルダを自動作成します。 ")],-1)),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",placeholder:"例: E:\\Encoded",modelValue:n.value.tsreplace_encoding.encoded_folder,"onUpdate:modelValue":e[7]||(e[7]=s=>n.value.tsreplace_encoding.encoded_folder=s),disabled:g.value},null,8,["density","modelValue","disabled"])]),o(P,{class:"settings__save-button bg-secondary mt-6",variant:"flat",disabled:g.value,onClick:e[8]||(e[8]=s=>K())},{default:u(()=>[o(m,{icon:"fluent:save-16-filled",class:"mr-2",height:"23px"}),e[33]||(e[33]=i("エンコード設定を更新 ",-1))]),_:1},8,["disabled"]),t("div",Ve,[o(m,{icon:"fluent:developer-board-16-filled",width:"20px"}),e[34]||(e[34]=t("span",{class:"ml-2"},"コマンドラインオプション",-1))]),e[76]||(e[76]=t("div",{class:"settings__description"},[i(" 高度なエンコーディング設定です。よくわからない場合はそのままにしてください。"),t("br")],-1)),t("div",ke,[t("div",we,[e[36]||(e[36]=i(" ソフトウェアエンコード (CPU) H.264 オプション ",-1)),o(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[35]||(e[35]=[t("span",null,"libx264",-1)])]),_:1})]),t("div",xe,[e[38]||(e[38]=i(" TSReplace経由でFFmpegのlibx264エンコーダーを使用します。高い互換性を持ちます。",-1)),e[39]||(e[39]=t("br",null,null,-1)),_.value?(a(),d("span",Ue)):g.value?(a(),d("span",Ce,[...e[37]||(e[37]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_h264_options,"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.tsreplace_encoding.ffmpeg_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),t("div",Se,[t("div",Ee,[e[41]||(e[41]=i(" ソフトウェアエンコード (CPU) H.265 オプション ",-1)),o(v,{size:"small",color:"purple-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[40]||(e[40]=[t("span",null,"libx265",-1)])]),_:1})]),t("div",Pe,[e[43]||(e[43]=i(" TSReplace経由でFFmpegのlibx265エンコーダーを使用します。H.264より高い圧縮効率を持ちますが、エンコード時間が長くなります。",-1)),e[44]||(e[44]=t("br",null,null,-1)),_.value?(a(),d("span",Te)):g.value?(a(),d("span",He,[...e[42]||(e[42]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_hevc_options,"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.tsreplace_encoding.ffmpeg_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),f(t("div",Ae,[t("div",Ge,[e[46]||(e[46]=i(" NVIDIA GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"green-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[45]||(e[45]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",Ie,[e[48]||(e[48]=i(" NVIDIA GPU使用時のH.264エンコード設定です（NVEncC経由）。",-1)),e[49]||(e[49]=t("br",null,null,-1)),_.value?(a(),d("span",he)):g.value?(a(),d("span",De,[...e[47]||(e[47]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_h264_options,"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.tsreplace_encoding.nvidia_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",Ne,[t("div",ze,[e[51]||(e[51]=i(" NVIDIA GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"green-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[50]||(e[50]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",Me,[e[53]||(e[53]=i(" NVIDIA GPU使用時のH.265エンコード設定です（NVEncC経由）。",-1)),e[54]||(e[54]=t("br",null,null,-1)),_.value?(a(),d("span",Re)):g.value?(a(),d("span",Fe,[...e[52]||(e[52]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_hevc_options,"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.tsreplace_encoding.nvidia_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",qe,[t("div",Be,[e[56]||(e[56]=i(" AMD GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"red-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[55]||(e[55]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Qe,[e[58]||(e[58]=i(" AMD GPU使用時のH.264エンコード設定です（VCEEncC経由）。",-1)),e[59]||(e[59]=t("br",null,null,-1)),_.value?(a(),d("span",Le)):g.value?(a(),d("span",$e,[...e[57]||(e[57]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_h264_options,"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.tsreplace_encoding.amd_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",Oe,[t("div",Ke,[e[61]||(e[61]=i(" AMD GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"red-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[60]||(e[60]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Xe,[e[63]||(e[63]=i(" AMD GPU使用時のH.265エンコード設定です（VCEEncC経由）。",-1)),e[64]||(e[64]=t("br",null,null,-1)),_.value?(a(),d("span",je)):g.value?(a(),d("span",Je,[...e[62]||(e[62]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_hevc_options,"onUpdate:modelValue":e[14]||(e[14]=s=>n.value.tsreplace_encoding.amd_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",We,[t("div",Ye,[e[66]||(e[66]=i(" Intel GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[65]||(e[65]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",Ze,[e[68]||(e[68]=i(" Intel GPU使用時のH.264エンコード設定です（QSVEncC経由）。",-1)),e[69]||(e[69]=t("br",null,null,-1)),_.value?(a(),d("span",et)):g.value?(a(),d("span",tt,[...e[67]||(e[67]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_h264_options,"onUpdate:modelValue":e[15]||(e[15]=s=>n.value.tsreplace_encoding.intel_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]]),f(t("div",st,[t("div",nt,[e[71]||(e[71]=i(" Intel GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"blue-darken-2",variant:"outlined",class:"ml-2"},{default:u(()=>[...e[70]||(e[70]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",lt,[e[74]||(e[74]=i(" Intel GPU使用時のH.265エンコード設定です（QSVEncC経由）。",-1)),e[75]||(e[75]=t("br",null,null,-1)),_.value?(a(),d("span",it,[...e[72]||(e[72]=[t("strong",null,"※ この設定は自動エンコードが有効な場合のみ変更可能です。",-1)])])):g.value?(a(),d("span",ot,[...e[73]||(e[73]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):r("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:c.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_hevc_options,"onUpdate:modelValue":e[16]||(e[16]=s=>n.value.tsreplace_encoding.intel_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]])])):r("",!0),n.value?(a(),d("div",at,[t("div",dt,[o(m,{icon:"fluent:task-list-square-16-filled",width:"20px"}),e[77]||(e[77]=t("span",{class:"ml-3"},"エンコードタスク",-1))]),t("div",rt,[e[80]||(e[80]=t("div",{class:"settings__item-label"}," 現在実行中および完了したエンコードタスクの一覧です。 ",-1)),t("div",ut,[G.value.length===0?(a(),d("div",ct," エンコードタスクはありません。 ")):(a(),d("div",_t,[(a(!0),d(se,null,ne(G.value,s=>(a(),d("div",{key:s.taskId,class:"encoding-task-item"},[t("div",mt,[t("div",gt,b(s.programTitle),1),t("div",pt,[Q(s.status)?(a(),S(P,{key:0,size:"x-small",variant:"flat",color:"error",onClick:y=>$(s.taskId),loading:U.value.has(s.taskId)},{default:u(()=>[o(m,{icon:"fluent:stop-20-regular",width:"14px",height:"14px"}),e[78]||(e[78]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1},8,["onClick","loading"])):r("",!0),L(s.status)?(a(),S(P,{key:1,size:"x-small",variant:"flat",color:"grey",onClick:y=>O(s.taskId)},{default:u(()=>[o(m,{icon:"fluent:delete-20-regular",width:"14px",height:"14px"}),e[79]||(e[79]=t("span",{class:"ml-1"},"削除",-1))]),_:1},8,["onClick"])):r("",!0),o(v,{color:R(s.status),size:"small",variant:"flat"},{default:u(()=>[i(b(F(s.status)),1)]),_:2},1032,["color"])])]),t("div",vt,[t("div",ft,[t("span",bt,b(s.codec.toUpperCase()),1),t("span",yt,b(q(s.encoderType)),1)]),s.status==="processing"?(a(),d("div",Vt,[o(le,{"model-value":s.progress,color:"primary",height:"6",rounded:""},null,8,["model-value"]),t("span",kt,b(B(s.progress))+"%",1)])):r("",!0),s.errorMessage?(a(),d("div",wt,[o(m,{icon:"fluent:error-circle-16-filled",width:"16px",class:"text-error"}),t("span",xt,b(s.errorMessage),1)])):r("",!0),s.startedAt?(a(),d("div",Ut," 開始: "+b(I(s.startedAt)),1)):r("",!0),s.completedAt?(a(),d("div",Ct," 完了: "+b(I(s.completedAt)),1)):r("",!0)])]))),128))]))])])])):r("",!0)]),_:1})}}}),$t=ae(St,[["__scopeId","data-v-a96402ba"]]);export{$t as default};
