const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cat5FXVK.js","assets/index.9nhJiF8H.css"])))=>i.map(i=>d[i]);
import{d as J,ai as X,al as Y,X as C,q as w,U as Z,y as ee,ae as te,k as S,h as c,aN as E,b as t,c as d,e as u,w as f,a as o,r as se,l as i,a9 as ne,v as V,V as P,F as le,g as ie,t as b,am as oe,d9 as ae,M as T,o as a,R as de,_ as re}from"./index-Cat5FXVK.js";import{S as ue}from"./Base-BRX1rIba.js";import{V as N}from"./VSwitch-S79dae-w.js";import{V as A}from"./VSelect-DFOoFwWD.js";import{b as ce}from"./VMenu-BdgALB6N.js";import{b as p}from"./VTextField-CKgx3ZWR.js";import{V as v}from"./VChip-CC0_c7wt.js";import"./Navigation-BpVD7k_u.js";import"./VSpacer-BUU6498a.js";import"./ssrBoot-TBrTBosi.js";import"./index-DRcH6Sky.js";import"./VSelectionControl-TheHVKhX.js";import"./forwardRefs-DboJVnh3.js";import"./transition-3mmQQU9L.js";import"./dialog-transition-CobOhznJ.js";import"./VAvatar-DZjadIb6.js";import"./VDivider-CdoWY63E.js";const _e={class:"settings__heading"},me={key:0,class:"settings__content"},ge={class:"settings__content-heading"},pe={class:"settings__item settings__item--switch"},ve={class:"settings__item"},fe={class:"settings__item"},be={class:"settings__item"},ye={class:"settings__item settings__item--switch"},Ve={class:"settings__item"},ke={class:"settings__item"},we={class:"settings__content-heading mt-6"},xe={class:"settings__item"},Ue={class:"settings__item-heading"},Ce={class:"settings__item-label"},Se={key:0,class:"text-orange-500 d-block mt-1"},Ee={key:1,class:"text-orange-500 d-block mt-1"},Pe={class:"settings__item"},Te={class:"settings__item-heading"},Ae={class:"settings__item-label"},He={key:0,class:"text-orange-500 d-block mt-1"},Ie={key:1,class:"text-orange-500 d-block mt-1"},Ge={class:"settings__item"},he={class:"settings__item-heading"},De={class:"settings__item-label"},Ne={key:0,class:"text-orange-500 d-block mt-1"},Me={key:1,class:"text-orange-500 d-block mt-1"},ze={class:"settings__item"},Re={class:"settings__item-heading"},Fe={class:"settings__item-label"},qe={key:0,class:"text-orange-500 d-block mt-1"},Be={key:1,class:"text-orange-500 d-block mt-1"},Qe={class:"settings__item"},Le={class:"settings__item-heading"},$e={class:"settings__item-label"},Oe={key:0,class:"text-orange-500 d-block mt-1"},Ke={key:1,class:"text-orange-500 d-block mt-1"},We={class:"settings__item"},je={class:"settings__item-heading"},Je={class:"settings__item-label"},Xe={key:0,class:"text-orange-500 d-block mt-1"},Ye={key:1,class:"text-orange-500 d-block mt-1"},Ze={class:"settings__item"},et={class:"settings__item-heading"},tt={class:"settings__item-label"},st={key:0,class:"text-orange-500 d-block mt-1"},nt={key:1,class:"text-orange-500 d-block mt-1"},lt={class:"settings__item"},it={class:"settings__item-heading"},ot={class:"settings__item-label"},at={key:0,class:"text-orange-500 d-block mt-1"},dt={key:1,class:"text-orange-500 d-block mt-1"},rt={key:1,class:"settings__content"},ut={class:"settings__content-heading"},ct={class:"settings__item"},_t={class:"encoding-tasks-container"},mt={key:0,class:"encoding-tasks-empty"},gt={key:1,class:"encoding-tasks-list"},pt={class:"encoding-task-header"},vt={class:"encoding-task-title"},ft={class:"encoding-task-actions"},bt={class:"encoding-task-details"},yt={class:"encoding-task-info"},Vt={class:"encoding-task-codec"},kt={class:"encoding-task-encoder"},wt={key:0,class:"encoding-task-progress"},xt={class:"encoding-task-progress-text"},Ut={key:1,class:"encoding-task-error"},Ct={class:"text-error"},St={key:2,class:"encoding-task-time"},Et={key:3,class:"encoding-task-time"},Pt=J({__name:"TSReplaceEncoding",setup(Tt){const H=X(),k=Y(),n=C(null),x=C(!1),U=C(new Set);async function M(){const l=await E.fetchServerSettings();n.value=l}async function z(){try{const l=await E.fetchHardwareEncoderStatus();x.value=l.hardware_encoder_available}catch(l){console.error("Failed to check hardware encoder availability:",l),x.value=!1}}const R=w(()=>x.value?[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!1,key:"hardware"}]:[{title:"ソフトウェア (CPU)",value:"software",disabled:!1,key:"software"},{title:"ハードウェア (GPU)",value:"hardware",disabled:!0,subtitle:"使用できません（対応するGPUが検出されませんでした）",key:"hardware-disabled"}]),_=w(()=>Z.isSmartphoneHorizontal()),g=w(()=>H.user===null||H.user.is_admin===!1),m=w(()=>{var l,e;return!((e=(l=n.value)==null?void 0:l.tsreplace_encoding)!=null&&e.auto_encoding_enabled)||g.value}),I=w(()=>{const l=k.getAllTasks(),e=new Map;for(const r of l){const s=e.get(r.taskId);s?r.startedAt&&s.startedAt?r.startedAt.getTime()>s.startedAt.getTime()&&e.set(r.taskId,r):r.startedAt&&e.set(r.taskId,r):e.set(r.taskId,r)}return Array.from(e.values()).sort((r,s)=>{const y={processing:0,queued:1,completed:2,failed:3,cancelled:4},h=y[r.status]??5,D=y[s.status]??5;return h!==D?h-D:r.startedAt&&s.startedAt?s.startedAt.getTime()-r.startedAt.getTime():0})});function F(l){return l<1||l>10?"1以上10以下の値を入力してください。":!0}function q(l){switch(l){case"processing":return"primary";case"queued":return"warning";case"completed":return"success";case"failed":return"error";case"cancelled":return"grey";default:return"grey"}}function B(l){switch(l){case"processing":return"実行中";case"queued":return"待機中";case"completed":return"完了";case"failed":return"失敗";case"cancelled":return"キャンセル";default:return l}}function Q(l){switch(l){case"software":return"ソフトウェア";case"hardware":return"ハードウェア";default:return l}}function G(l){return l.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function L(l){return l.toFixed(1)}function $(l){return["queued","processing"].includes(l)}function O(l){return["completed","failed","cancelled"].includes(l)}async function K(l){if(!U.value.has(l)){U.value.add(l);try{const r=await(await ae(()=>import("./index-Cat5FXVK.js").then(s=>s.dW),__vite__mapDeps([0,1]))).default.cancelEncoding(l)}catch(e){console.error("Failed to cancel encoding:",e),T.error("エンコードのキャンセルに失敗しました。")}finally{U.value.delete(l)}}}async function W(l){await k.removeTask(l)}async function j(){if(n.value===null)return;!x.value&&n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"&&(n.value.tsreplace_encoding.auto_encoding_encoder="software",T.warning("ハードウェアエンコーダーが利用できないため、ソフトウェアエンコードに切り替えました。")),await E.updateServerSettings(n.value)===!0&&T.success(`エンコード設定を更新しました。
変更を反映するためには、KonomiTV サーバーを再起動してください。`)}return ee(async()=>{await Promise.all([M(),z()]),k.initializeWebSocket(),k.startPeriodicCleanup(),k.startPeriodicRefresh(),await k.refreshEncodingQueue()}),te(()=>{}),(l,e)=>{const r=se("Icon");return a(),S(ue,null,{default:c(()=>[t("h2",_e,[f((a(),d("a",{class:"settings__back-button",onClick:e[0]||(e[0]=s=>l.$router.back())},[o(r,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[de]]),o(r,{icon:"fluent:video-clip-wand-16-filled",width:"19px",style:{margin:"0 4px"}}),e[17]||(e[17]=t("span",{class:"ml-3"},"エンコード",-1))]),e[81]||(e[81]=t("div",{class:"settings__description"},[i(" 録画終了時の自動エンコードと録画一覧からの手動再エンコードの設定を行えます。"),t("br"),i(" TSReplaceを使用してH.262-TSからH.264/HEVCへの映像変換を行い、ファイルサイズの削減と互換性の向上を図ります。 ")],-1)),e[82]||(e[82]=t("div",{class:"settings__description"},[i(" サーバー設定を変更するには、管理者アカウントでログインしている必要があります。"),t("br")],-1)),e[83]||(e[83]=t("div",{class:"settings__description mt-1"},[i(" [サーバー設定を更新] ボタンを押さずにこのページから離れると、変更内容は破棄されます。"),t("br"),i(" 変更を反映するには KonomiTV サーバーの再起動が必要です。"),t("br")],-1)),n.value?(a(),d("div",me,[t("div",ge,[o(r,{icon:"fluent:settings-16-filled",width:"20px"}),e[18]||(e[18]=t("span",{class:"ml-3"},"基本設定",-1))]),t("div",pe,[e[19]||(e[19]=t("label",{class:"settings__item-heading",for:"auto_encoding"},"自動エンコード",-1)),e[20]||(e[20]=t("label",{class:"settings__item-label",for:"auto_encoding"},[i(" 録画終了時に自動的にエンコードを行います。"),t("br")],-1)),o(N,{class:"settings__item-switch",color:"primary",id:"auto_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.auto_encoding_enabled,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.tsreplace_encoding.auto_encoding_enabled=s),disabled:g.value},null,8,["modelValue","disabled"])]),t("div",ve,[e[21]||(e[21]=t("div",{class:"settings__item-heading"},"エンコードコーデック",-1)),e[22]||(e[22]=t("div",{class:"settings__item-label"},[i(" エンコードに使用するビデオコーデックを選択します。"),t("br"),i(" H.264は高い互換性、H.265(HEVC)はより高い圧縮効率を提供しますが処理時間が長くなります。 ")],-1)),o(A,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"H.264 (AVC)",value:"h264"},{title:"H.265 (HEVC)",value:"hevc"}],density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.auto_encoding_codec,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.tsreplace_encoding.auto_encoding_codec=s),disabled:m.value,"hide-details":""},null,8,["density","modelValue","disabled"])]),t("div",fe,[e[23]||(e[23]=t("div",{class:"settings__item-heading"},"エンコーダー種類",-1)),e[24]||(e[24]=t("div",{class:"settings__item-label"},[i(" ソフトウェアエンコードは高品質、ハードウェアエンコードは高速処理が可能です。"),t("br"),i(" ハードウェアエンコードを使用する場合は、対応するGPUが必要です。 ")],-1)),o(A,{class:"settings__item-form",color:"primary",variant:"outlined",items:R.value,modelValue:n.value.tsreplace_encoding.auto_encoding_encoder,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.tsreplace_encoding.auto_encoding_encoder=s),density:_.value?"compact":"default",disabled:m.value,"hide-details":"","item-title":"title","item-value":"value","item-key":"key"},{item:c(({props:s,item:y})=>[o(ce,ne(s,{disabled:y.raw.disabled,subtitle:y.raw.subtitle}),null,16,["disabled","subtitle"])]),_:1},8,["items","modelValue","density","disabled"])]),f(t("div",be,[e[25]||(e[25]=t("div",{class:"settings__item-heading"},"ハードウェアエンコーダー種類",-1)),e[26]||(e[26]=t("div",{class:"settings__item-label"},[i(" 使用するGPUエンコーダーの種類を選択します。"),t("br"),i(" お使いのGPUに対応したエンコーダーを選択してください。 ")],-1)),o(A,{class:"settings__item-form",color:"primary",variant:"outlined",items:[{title:"NVEncC : NVIDIA GPU で利用可能",value:"nvidia"},{title:"VCEEncC : AMD GPU で利用可能",value:"amd"},{title:"QSVEncC : Intel Graphics 搭載 CPU / Intel Arc GPU で利用可能",value:"intel"}],density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.hardware_encoder_type,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.tsreplace_encoding.hardware_encoder_type=s),disabled:m.value,"hide-details":""},null,8,["density","modelValue","disabled"])],512),[[V,n.value.tsreplace_encoding.auto_encoding_encoder==="hardware"]]),t("div",ye,[e[27]||(e[27]=t("label",{class:"settings__item-heading"},"エンコード完了後に元ファイルを削除",-1)),e[28]||(e[28]=t("label",{class:"settings__item-label",for:"delete_original_after_encoding"},[i(" エンコード完了後に元のTSファイルを自動的に削除します。"),t("br"),i(" ストレージ容量の節約になりますが、元ファイルは復元できないため注意してください。 ")],-1)),o(N,{class:"settings__item-switch",color:"primary",id:"delete_original_after_encoding","hide-details":"",modelValue:n.value.tsreplace_encoding.delete_original_after_encoding,"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.tsreplace_encoding.delete_original_after_encoding=s),disabled:m.value},null,8,["modelValue","disabled"])]),t("div",Ve,[e[29]||(e[29]=t("div",{class:"settings__item-heading"},"最大同時エンコード数",-1)),e[30]||(e[30]=t("div",{class:"settings__item-label"},[i(" 同時に実行できるエンコード処理の最大数を設定します。"),t("br"),i(" 値を大きくするとより多くのファイルを並行処理できますが、システムリソースを多く消費します。 ")],-1)),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",type:"number",min:"1",max:"10",rules:[F],modelValue:n.value.tsreplace_encoding.max_concurrent_encodings,"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.tsreplace_encoding.max_concurrent_encodings=s),modelModifiers:{number:!0},disabled:m.value},null,8,["density","rules","modelValue","disabled"])]),t("div",ke,[e[31]||(e[31]=t("div",{class:"settings__item-heading"},"エンコード済みファイルの保存先フォルダ",-1)),e[32]||(e[32]=t("div",{class:"settings__item-label"},[i(" エンコード済みファイルの保存先フォルダの絶対パスを指定してください。"),t("br"),i(" 空欄にすると、録画フォルダ内に Encoded フォルダを自動作成します。 ")],-1)),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",placeholder:"例: E:\\Encoded",modelValue:n.value.tsreplace_encoding.encoded_folder,"onUpdate:modelValue":e[7]||(e[7]=s=>n.value.tsreplace_encoding.encoded_folder=s),disabled:g.value},null,8,["density","modelValue","disabled"])]),o(P,{class:"settings__save-button bg-secondary mt-6",variant:"flat",disabled:g.value,onClick:e[8]||(e[8]=s=>j())},{default:c(()=>[o(r,{icon:"fluent:save-16-filled",class:"mr-2",height:"23px"}),e[33]||(e[33]=i("エンコード設定を更新 ",-1))]),_:1},8,["disabled"]),t("div",we,[o(r,{icon:"fluent:developer-board-16-filled",width:"20px"}),e[34]||(e[34]=t("span",{class:"ml-2"},"コマンドラインオプション",-1))]),e[76]||(e[76]=t("div",{class:"settings__description"},[i(" 高度なエンコーディング設定です。よくわからない場合はそのままにしてください。"),t("br")],-1)),t("div",xe,[t("div",Ue,[e[36]||(e[36]=i(" ソフトウェアエンコード (CPU) H.264 オプション ",-1)),o(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[35]||(e[35]=[t("span",null,"libx264",-1)])]),_:1})]),t("div",Ce,[e[38]||(e[38]=i(" TSReplace経由でFFmpegのlibx264エンコーダーを使用します。高い互換性を持ちます。",-1)),e[39]||(e[39]=t("br",null,null,-1)),m.value?(a(),d("span",Se)):g.value?(a(),d("span",Ee,[...e[37]||(e[37]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_h264_options,"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.tsreplace_encoding.ffmpeg_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),t("div",Pe,[t("div",Te,[e[41]||(e[41]=i(" ソフトウェアエンコード (CPU) H.265 オプション ",-1)),o(v,{size:"small",color:"purple-darken-1",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[40]||(e[40]=[t("span",null,"libx265",-1)])]),_:1})]),t("div",Ae,[e[43]||(e[43]=i(" TSReplace経由でFFmpegのlibx265エンコーダーを使用します。H.264より高い圧縮効率を持ちますが、エンコード時間が長くなります。",-1)),e[44]||(e[44]=t("br",null,null,-1)),m.value?(a(),d("span",He)):g.value?(a(),d("span",Ie,[...e[42]||(e[42]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.ffmpeg_hevc_options,"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.tsreplace_encoding.ffmpeg_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])]),f(t("div",Ge,[t("div",he,[e[46]||(e[46]=i(" NVIDIA GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"green-darken-1",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[45]||(e[45]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",De,[e[48]||(e[48]=i(" NVIDIA GPU使用時のH.264エンコード設定です（NVEncC経由）。",-1)),e[49]||(e[49]=t("br",null,null,-1)),m.value?(a(),d("span",Ne)):g.value?(a(),d("span",Me,[...e[47]||(e[47]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_h264_options,"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.tsreplace_encoding.nvidia_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",ze,[t("div",Re,[e[51]||(e[51]=i(" NVIDIA GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"green-darken-2",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[50]||(e[50]=[t("span",null,"NVEncC",-1)])]),_:1})]),t("div",Fe,[e[53]||(e[53]=i(" NVIDIA GPU使用時のH.265エンコード設定です（NVEncC経由）。",-1)),e[54]||(e[54]=t("br",null,null,-1)),m.value?(a(),d("span",qe)):g.value?(a(),d("span",Be,[...e[52]||(e[52]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.nvidia_hevc_options,"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.tsreplace_encoding.nvidia_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="nvidia"]]),f(t("div",Qe,[t("div",Le,[e[56]||(e[56]=i(" AMD GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"red-darken-1",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[55]||(e[55]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",$e,[e[58]||(e[58]=i(" AMD GPU使用時のH.264エンコード設定です（VCEEncC経由）。",-1)),e[59]||(e[59]=t("br",null,null,-1)),m.value?(a(),d("span",Oe)):g.value?(a(),d("span",Ke,[...e[57]||(e[57]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_h264_options,"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.tsreplace_encoding.amd_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",We,[t("div",je,[e[61]||(e[61]=i(" AMD GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"red-darken-2",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[60]||(e[60]=[t("span",null,"VCEEncC",-1)])]),_:1})]),t("div",Je,[e[63]||(e[63]=i(" AMD GPU使用時のH.265エンコード設定です（VCEEncC経由）。",-1)),e[64]||(e[64]=t("br",null,null,-1)),m.value?(a(),d("span",Xe)):g.value?(a(),d("span",Ye,[...e[62]||(e[62]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.amd_hevc_options,"onUpdate:modelValue":e[14]||(e[14]=s=>n.value.tsreplace_encoding.amd_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="amd"]]),f(t("div",Ze,[t("div",et,[e[66]||(e[66]=i(" Intel GPU H.264 エンコードオプション ",-1)),o(v,{size:"small",color:"blue-darken-1",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[65]||(e[65]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",tt,[e[68]||(e[68]=i(" Intel GPU使用時のH.264エンコード設定です（QSVEncC経由）。",-1)),e[69]||(e[69]=t("br",null,null,-1)),m.value?(a(),d("span",st)):g.value?(a(),d("span",nt,[...e[67]||(e[67]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_h264_options,"onUpdate:modelValue":e[15]||(e[15]=s=>n.value.tsreplace_encoding.intel_h264_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]]),f(t("div",lt,[t("div",it,[e[71]||(e[71]=i(" Intel GPU H.265 エンコードオプション ",-1)),o(v,{size:"small",color:"blue-darken-2",variant:"outlined",class:"ml-2"},{default:c(()=>[...e[70]||(e[70]=[t("span",null,"QSVEncC",-1)])]),_:1})]),t("div",ot,[e[74]||(e[74]=i(" Intel GPU使用時のH.265エンコード設定です（QSVEncC経由）。",-1)),e[75]||(e[75]=t("br",null,null,-1)),m.value?(a(),d("span",at,[...e[72]||(e[72]=[t("strong",null,"※ この設定は自動エンコードが有効な場合のみ変更可能です。",-1)])])):g.value?(a(),d("span",dt,[...e[73]||(e[73]=[t("strong",null,"※ この設定の変更には管理者権限が必要です。",-1)])])):u("",!0)]),o(p,{class:"settings__item-form",color:"primary",variant:"outlined",density:_.value?"compact":"default",modelValue:n.value.tsreplace_encoding.intel_hevc_options,"onUpdate:modelValue":e[16]||(e[16]=s=>n.value.tsreplace_encoding.intel_hevc_options=s),"prepend-inner-icon":"fluent:code-16-filled","hide-details":""},null,8,["density","modelValue"])],512),[[V,n.value.tsreplace_encoding.hardware_encoder_type==="intel"]])])):u("",!0),n.value?(a(),d("div",rt,[t("div",ut,[o(r,{icon:"fluent:task-list-square-16-filled",width:"20px"}),e[77]||(e[77]=t("span",{class:"ml-3"},"エンコードタスク",-1))]),t("div",ct,[e[80]||(e[80]=t("div",{class:"settings__item-label"}," 現在実行中および完了したエンコードタスクの一覧です。 ",-1)),t("div",_t,[I.value.length===0?(a(),d("div",mt," エンコードタスクはありません。 ")):(a(),d("div",gt,[(a(!0),d(le,null,ie(I.value,s=>(a(),d("div",{key:s.taskId,class:"encoding-task-item"},[t("div",pt,[t("div",vt,b(s.programTitle),1),t("div",ft,[$(s.status)?(a(),S(P,{key:0,size:"x-small",variant:"flat",color:"error",onClick:y=>K(s.taskId),loading:U.value.has(s.taskId)},{default:c(()=>[o(r,{icon:"fluent:stop-20-regular",width:"14px",height:"14px"}),e[78]||(e[78]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1},8,["onClick","loading"])):u("",!0),O(s.status)?(a(),S(P,{key:1,size:"x-small",variant:"flat",color:"grey",onClick:y=>W(s.taskId)},{default:c(()=>[o(r,{icon:"fluent:delete-20-regular",width:"14px",height:"14px"}),e[79]||(e[79]=t("span",{class:"ml-1"},"削除",-1))]),_:1},8,["onClick"])):u("",!0),o(v,{color:q(s.status),size:"small",variant:"flat"},{default:c(()=>[i(b(B(s.status)),1)]),_:2},1032,["color"])])]),t("div",bt,[t("div",yt,[t("span",Vt,b(s.codec.toUpperCase()),1),t("span",kt,b(Q(s.encoderType)),1)]),s.status==="processing"?(a(),d("div",wt,[o(oe,{"model-value":s.progress,color:"primary",height:"6",rounded:""},null,8,["model-value"]),t("span",xt,b(L(s.progress))+"%",1)])):u("",!0),s.errorMessage?(a(),d("div",Ut,[o(r,{icon:"fluent:error-circle-16-filled",width:"16px",class:"text-error"}),t("span",Ct,b(s.errorMessage),1)])):u("",!0),s.startedAt?(a(),d("div",St," 開始: "+b(G(s.startedAt)),1)):u("",!0),s.completedAt?(a(),d("div",Et," 完了: "+b(G(s.completedAt)),1)):u("",!0)])]))),128))]))])])])):u("",!0)]),_:1})}}}),Kt=re(Pt,[["__scopeId","data-v-d58d50b3"]]);export{Kt as default};
