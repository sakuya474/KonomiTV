import{d as u,m as f,U as g,ai as w,_ as c,c as h,a as t,b as o,r as n,h as a,p as y,cP as i,V as v,l as V,o as _}from"./index-l7mZcvr7.js";import{N as $,H as b}from"./Navigation-B9tp9jHO.js";import{_ as B}from"./VSpacer-DdZJeH7L.js";import{V as C,d as N}from"./VCard-DoCWD6u_.js";import{V as S}from"./VDivider-K1dNGbey.js";import{V as U}from"./VForm-zLnEl6YW.js";import{b as l}from"./VTextField-CJf_5DNJ.js";import"./ssrBoot-zDIWP7Ii.js";import"./VAvatar-mOFXakeW.js";import"./transition-DqJDDmP2.js";import"./forwardRefs-DboJVnh3.js";import"./index-CrDjSE9Q.js";const k=u({name:"Register",components:{HeaderBar:b,Navigation:$},data(){return{is_form_dense:g.isSmartphoneHorizontal(),username:null,username_validation:e=>e===""||e===null?"ユーザー名を入力してください。":/^.{2,}$/.test(e)===!1?"ユーザー名は2文字以上で入力してください。":!0,password:null,password_showing:!0,password_validation:e=>e===""||e===null?"パスワードを入力してください。":/^[a-zA-Z0-9!-/:-@¥[-`{-~]{4,}$/.test(e)===!1?"パスワードは4文字以上の半角英数記号を入力してください。":!0}},computed:{...f(w)},async created(){await this.userStore.fetchUser(),this.userStore.is_logged_in&&await this.$router.replace({path:"/settings/account"})},methods:{async register(){(await this.$refs.register.validate()).valid===!1||this.username===null||this.password===null||await this.userStore.register(this.username,this.password)===!1||await this.$router.replace({path:"/settings/account"})}}}),H={class:"route-container"},I={class:"register-container-wrapper d-flex align-center w-100 mb-13"};function K(e,r,T,z,F,R){const d=n("HeaderBar"),p=n("Navigation"),m=n("Icon");return _(),h("div",H,[t(d),o("main",null,[t(p),o("div",I,[t(N,{class:"register-container px-10 pt-8 pb-11 mx-auto",elevation:"10",width:"100%","max-width":"450"},{default:a(()=>[t(C,{class:"register__logo py-4 d-flex flex-column justify-center align-center"},{default:a(()=>[...r[7]||(r[7]=[o("img",{class:"d-block",src:B,style:{"max-width":"250px"}},null,-1),o("h4",{class:"mt-10"},"アカウントを作成",-1)])]),_:1}),t(S),t(U,{ref:"register",onSubmit:r[6]||(r[6]=y(()=>{},["prevent"]))},{default:a(()=>[t(l,{class:"mt-12",color:"primary",variant:"outlined",placeholder:"ユーザー名",autofocus:"",density:e.is_form_dense?"compact":"default",modelValue:e.username,"onUpdate:modelValue":r[0]||(r[0]=s=>e.username=s),rules:[e.username_validation],onKeyup:r[1]||(r[1]=i(s=>e.register(),["enter"]))},null,8,["density","modelValue","rules"]),t(l,{style:{"margin-top":"10px"},color:"primary",variant:"outlined",placeholder:"パスワード",density:e.is_form_dense?"compact":"default",modelValue:e.password,"onUpdate:modelValue":r[2]||(r[2]=s=>e.password=s),type:e.password_showing?"text":"password",rules:[e.password_validation],"append-inner-icon":e.password_showing?"mdi-eye":"mdi-eye-off","onClick:appendInner":r[3]||(r[3]=s=>e.password_showing=!e.password_showing),onKeyup:r[4]||(r[4]=i(s=>e.register(),["enter"]))},null,8,["density","modelValue","type","rules","append-inner-icon"]),t(v,{class:"register-button mt-5",color:"secondary",variant:"flat",width:"100%",height:"56",onClick:r[5]||(r[5]=s=>e.register())},{default:a(()=>[t(m,{icon:"fluent:person-add-20-filled",class:"mr-2",height:"24"}),r[8]||(r[8]=V("アカウントを作成 ",-1))]),_:1})]),_:1},512)]),_:1})])])])}const O=c(k,[["render",K],["__scopeId","data-v-4b29aecb"]]);export{O as default};
