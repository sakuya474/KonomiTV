import{u as De}from"./TimetableStore-C4Yu5b1g.js";import{s as ae,q as p,x as xe,y as he,z as te,A as Se,C as Ce,B as ce,D as Ve,E as Me,G as Ee,H as Be,I as $e,J as Pe,K as He,L as be,N as ye,O as Re,Q as Fe,S as Ie,T as Le,W as Ne,X as A,Y as Ye,Z as Oe,$ as ze,a0 as We,a1 as Xe,a2 as Ae,a3 as qe,a4 as je,a5 as Ue,a6 as Ge,a7 as Ze,a8 as Je,a as s,a9 as de,aa as Ke,ab as Qe,F as N,ac as ge,d as et,ad as tt,ae as at,c as _,b as c,f as J,g as W,h as m,V as K,af as U,ag as nt,l as H,t as T,ah as oe,k as Q,n as ot,e as X,o as r,_ as lt}from"./index-CFRmVj-Y.js";import{R as pe}from"./Reservations-C0jRWSQS.js";import{B as st}from"./Breadcrumbs-BQlTi-od.js";import{H as rt,N as it}from"./Navigation-C_TjiY9x.js";import{S as ut}from"./SPHeaderBar-DL3X-d38.js";import{V as ct,a as dt,b as vt,c as ft}from"./VMenu-CW7lKOSP.js";import{u as mt,m as gt,a as ht}from"./dialog-transition---DyTlu5.js";import{u as _t}from"./ssrBoot-D7WwHxqw.js";import{V as bt}from"./VAvatar-DeITZ6Z7.js";import{V as yt}from"./VTooltip-DDKF0gvH.js";import{V as pt,a as wt,b as we,c as kt,d as Tt}from"./VCard-DrrUiSMV.js";import{V as me}from"./VChip-BXS4KwPG.js";import{V as St}from"./VDivider-CgXiyw5_.js";import{V as Dt}from"./VSpacer-741NzAEG.js";import"./index-qXmCQgxI.js";import"./transition-D6g6Lsg2.js";import"./forwardRefs-DboJVnh3.js";function xt(t){let{rootEl:l,isSticky:b,layoutItemStyles:F}=t;const o=ae(!1),y=ae(0),i=p(()=>{const $=typeof o.value=="boolean"?"top":o.value;return[b.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[$]:xe(y.value)}:{top:F.value.top}]});he(()=>{te(b,$=>{$?window.addEventListener("scroll",R,{passive:!0}):window.removeEventListener("scroll",R)},{immediate:!0})}),Se(()=>{window.removeEventListener("scroll",R)});let S=0;function R(){const $=S>window.scrollY?"up":"down",D=l.value.getBoundingClientRect(),w=parseFloat(F.value.top??0),k=window.scrollY-Math.max(0,y.value-w),x=D.height+Math.max(y.value,w)-window.scrollY-window.innerHeight,E=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;D.height<window.innerHeight-w?(o.value="top",y.value=w):$==="up"&&o.value==="bottom"||$==="down"&&o.value==="top"?(y.value=window.scrollY+D.top-E,o.value=!0):$==="down"&&x<=0?(y.value=0,o.value="bottom"):$==="up"&&k<=0&&(E?o.value!=="top"&&(y.value=-k+E+w,o.value="top"):(y.value=D.top+k,o.value="top")),S=window.scrollY}return{isStuck:o,stickyStyles:i}}const Ct=100,Vt=20;function ke(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Te(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let l=0;for(let b=t.length-1;b>0;b--){if(t[b].t===t[b-1].t)continue;const F=ke(l),o=(t[b].d-t[b-1].d)/(t[b].t-t[b-1].t);l+=(o-F)*Math.abs(o),b===t.length-1&&(l*=.5)}return ke(l)*1e3}function Mt(){const t={};function l(o){Array.from(o.changedTouches).forEach(y=>{(t[y.identifier]??(t[y.identifier]=new Ce(Vt))).push([o.timeStamp,y])})}function b(o){Array.from(o.changedTouches).forEach(y=>{delete t[y.identifier]})}function F(o){var $;const y=($=t[o])==null?void 0:$.values().reverse();if(!y)throw new Error(`No samples for touch id ${o}`);const i=y[0],S=[],R=[];for(const D of y){if(i[0]-D[0]>Ct)break;S.push({t:D[0],d:D[1].clientX}),R.push({t:D[0],d:D[1].clientY})}return{x:Te(S),y:Te(R),get direction(){const{x:D,y:w}=this,[k,x]=[Math.abs(D),Math.abs(w)];return k>x&&D>=0?"right":k>x&&D<=0?"left":x>k&&w>=0?"down":x>k&&w<=0?"up":Et()}}}return{addMovement:l,endTouch:b,getVelocity:F}}function Et(){throw new Error}function Bt(t){let{el:l,isActive:b,isTemporary:F,width:o,touchless:y,position:i}=t;he(()=>{window.addEventListener("touchstart",O,{passive:!0}),window.addEventListener("touchmove",z,{passive:!1}),window.addEventListener("touchend",G,{passive:!0})}),Se(()=>{window.removeEventListener("touchstart",O),window.removeEventListener("touchmove",z),window.removeEventListener("touchend",G)});const S=p(()=>["left","right"].includes(i.value)),{addMovement:R,endTouch:$,getVelocity:D}=Mt();let w=!1;const k=ae(!1),x=ae(0),E=ae(0);let P;function Y(u,v){return(i.value==="left"?u:i.value==="right"?document.documentElement.clientWidth-u:i.value==="top"?u:i.value==="bottom"?document.documentElement.clientHeight-u:ee())-(v?o.value:0)}function q(u){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const g=i.value==="left"?(u-E.value)/o.value:i.value==="right"?(document.documentElement.clientWidth-u-E.value)/o.value:i.value==="top"?(u-E.value)/o.value:i.value==="bottom"?(document.documentElement.clientHeight-u-E.value)/o.value:ee();return v?Math.max(0,Math.min(1,g)):g}function O(u){if(y.value)return;const v=u.changedTouches[0].clientX,g=u.changedTouches[0].clientY,h=25,M=i.value==="left"?v<h:i.value==="right"?v>document.documentElement.clientWidth-h:i.value==="top"?g<h:i.value==="bottom"?g>document.documentElement.clientHeight-h:ee(),C=b.value&&(i.value==="left"?v<o.value:i.value==="right"?v>document.documentElement.clientWidth-o.value:i.value==="top"?g<o.value:i.value==="bottom"?g>document.documentElement.clientHeight-o.value:ee());(M||C||b.value&&F.value)&&(P=[v,g],E.value=Y(S.value?v:g,b.value),x.value=q(S.value?v:g),w=E.value>-20&&E.value<80,$(u),R(u))}function z(u){const v=u.changedTouches[0].clientX,g=u.changedTouches[0].clientY;if(w){if(!u.cancelable){w=!1;return}const M=Math.abs(v-P[0]),C=Math.abs(g-P[1]);(S.value?M>C&&M>3:C>M&&C>3)?(k.value=!0,w=!1):(S.value?C:M)>3&&(w=!1)}if(!k.value)return;u.preventDefault(),R(u);const h=q(S.value?v:g,!1);x.value=Math.max(0,Math.min(1,h)),h>1?E.value=Y(S.value?v:g,!0):h<0&&(E.value=Y(S.value?v:g,!1))}function G(u){if(w=!1,!k.value)return;R(u),k.value=!1;const v=D(u.changedTouches[0].identifier),g=Math.abs(v.x),h=Math.abs(v.y);(S.value?g>h&&g>400:h>g&&h>3)?b.value=v.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||ee()):b.value=x.value>.5}const B=p(()=>k.value?{transform:i.value==="left"?`translateX(calc(-100% + ${x.value*o.value}px))`:i.value==="right"?`translateX(calc(100% - ${x.value*o.value}px))`:i.value==="top"?`translateY(calc(-100% + ${x.value*o.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${x.value*o.value}px))`:ee(),transition:"none"}:void 0);return ce(k,()=>{var g,h;const u=((g=l.value)==null?void 0:g.style.transform)??null,v=((h=l.value)==null?void 0:h.style.transition)??null;Ve(()=>{var M,C,I,V;(C=l.value)==null||C.style.setProperty("transform",((M=B.value)==null?void 0:M.transform)||"none"),(V=l.value)==null||V.style.setProperty("transition",((I=B.value)==null?void 0:I.transition)||null)}),Me(()=>{var M,C;(M=l.value)==null||M.style.setProperty("transform",u),(C=l.value)==null||C.style.setProperty("transition",v)})}),{isDragging:k,dragProgress:x,dragStyles:B}}function ee(){throw new Error}const $t=["start","end","left","right","top","bottom"],Pt=Be({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>$t.includes(t)},sticky:Boolean,...Je(),...Ze(),...gt(),...Ge({mobile:null}),...Ue(),...je(),...qe(),...Ae({tag:"nav"}),...Xe()},"VNavigationDrawer"),Ht=Ee()({name:"VNavigationDrawer",props:Pt(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,l){let{attrs:b,emit:F,slots:o}=l;const{isRtl:y}=$e(),{themeClasses:i}=Pe(t),{borderClasses:S}=He(t),{backgroundColorClasses:R,backgroundColorStyles:$}=be(ye(t,"color")),{elevationClasses:D}=Re(t),{displayClasses:w,mobile:k}=Fe(t),{roundedClasses:x}=Ie(t),E=Le(),P=Ne(t,"modelValue",null,a=>!!a),{ssrBootStyles:Y}=_t(),{scopeId:q}=mt(),O=A(),z=ae(!1),{runOpenDelay:G,runCloseDelay:B}=ht(t,a=>{z.value=a}),u=p(()=>t.rail&&t.expandOnHover&&z.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),v=p(()=>Ye(t.location,y.value)),g=p(()=>t.persistent),h=p(()=>!t.permanent&&(k.value||t.temporary)),M=p(()=>t.sticky&&!h.value&&v.value!=="bottom");ce(()=>t.expandOnHover&&t.rail!=null,()=>{te(z,a=>F("update:rail",!a))}),ce(()=>!t.disableResizeWatcher,()=>{te(h,a=>!t.permanent&&ge(()=>P.value=!a))}),ce(()=>!t.disableRouteWatcher&&!!E,()=>{te(E.currentRoute,()=>h.value&&(P.value=!1))}),te(()=>t.permanent,a=>{a&&(P.value=!0)}),t.modelValue==null&&!h.value&&(P.value=t.permanent||!k.value);const{isDragging:C,dragProgress:I}=Bt({el:O,isActive:P,isTemporary:h,width:u,touchless:ye(t,"touchless"),position:v}),V=p(()=>{const a=h.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):u.value;return C.value?a*I.value:a}),{layoutItemStyles:le,layoutItemScrimStyles:se}=Oe({id:t.name,order:p(()=>parseInt(t.order,10)),position:v,layoutSize:V,elementSize:u,active:p(()=>P.value||C.value),disableTransitions:p(()=>C.value),absolute:p(()=>t.absolute||M.value&&typeof Z.value!="string")}),{isStuck:Z,stickyStyles:ve}=xt({rootEl:O,isSticky:M,layoutItemStyles:le}),re=be(p(()=>typeof t.scrim=="string"?t.scrim:null)),ie=p(()=>({...C.value?{opacity:I.value*.2,transition:"none"}:void 0,...se.value}));return ze({VList:{bgColor:"transparent"}}),We(()=>{const a=o.image||t.image;return s(N,null,[s(t.tag,de({ref:O,onMouseenter:G,onMouseleave:B,class:["v-navigation-drawer",`v-navigation-drawer--${v.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":z.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":h.value,"v-navigation-drawer--persistent":g.value,"v-navigation-drawer--active":P.value,"v-navigation-drawer--sticky":M.value},i.value,R.value,S.value,w.value,D.value,x.value,t.class],style:[$.value,le.value,Y.value,ve.value,t.style]},q,b),{default:()=>{var e,n,d;return[a&&s("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?s(Ke,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},o.image):s(bt,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),o.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(e=o.prepend)==null?void 0:e.call(o)]),s("div",{class:"v-navigation-drawer__content"},[(n=o.default)==null?void 0:n.call(o)]),o.append&&s("div",{class:"v-navigation-drawer__append"},[(d=o.append)==null?void 0:d.call(o)])]}}),s(Qe,{name:"fade-transition"},{default:()=>[h.value&&(C.value||P.value)&&!!t.scrim&&s("div",de({class:["v-navigation-drawer__scrim",re.backgroundColorClasses.value],style:[ie.value,re.backgroundColorStyles.value],onClick:()=>{g.value||(P.value=!1)}},q),null)]})])}),{isStuck:Z}}}),Rt={class:"route-container"},Ft={class:"timetable-container-wrapper"},It={class:"timetable-breadcrumbs-container"},Lt={class:"timetable-header"},Nt={class:"channels-tab"},Yt={class:"timetable-header__date-control"},Ot={class:"timetable-body"},zt={key:0,class:"loading-container"},Wt={key:1,class:"timetable-grid-container"},Xt={class:"timeline-container"},At={key:0,class:"day-text"},qt={key:1,class:"dayofweek-text"},jt={class:"hour-text"},Ut=["onClick"],Gt={class:"program-header"},Zt={class:"program-title"},Jt={class:"program-badges"},Kt={key:0,class:"program-badge program-badge--paid"},Qt={key:1,class:"program-badge program-badge--genre"},ea={key:0,class:"program-description"},ta={class:"program-time"},aa={class:"tooltip-text"},na={key:2,class:"loading-container"},oa={class:"program-info-badges"},la={class:"text-body-2 mb-3"},sa={key:0,class:"program-detail-section"},ra={class:"program-detail-grid"},ia={class:"detail-key"},ua={class:"detail-value"},ca=et({__name:"Timetable",setup(t){const l=De(),b=tt(),F=A(new Set),o=[{id:"ALL",name:"すべて"},{id:"GR",name:"地デジ"},{id:"BS",name:"BS"},{id:"CS",name:"CS"}],y=A(1),i=(a,e)=>{l.setChannelType(a),y.value=e},S=A(!1),R=p(()=>{const a=new Date;a.setHours(0,0,0,0);const e=new Date(a);return e.setDate(e.getDate()+l.selected_day_offset),e}),$=p(()=>{const a=new Date;a.setHours(0,0,0,0);const e=[];for(let n=-7;n<=7;n++){const d=new Date(a);d.setDate(d.getDate()+n);const f=d.getMonth()+1,L=d.getDate(),j=n===0?`${f}/${L} 今日`:`${f}/${L}`;e.push({label:j,value:d.toISOString(),offset:n})}return e}),D=a=>{const e=a.getMonth()+1,n=a.getDate();return`${e}/${n}`},w=async a=>{const e=l.selected_day_offset+a;e>=-7&&e<=7&&(l.selected_day_offset=e,await l.fetchTimetable(),x())},k=async a=>{l.selected_day_offset=a,await l.fetchTimetable(),x(),S.value=!1},x=()=>{ge(()=>{setTimeout(()=>{const a=document.querySelector(".timetable-grid-container");if(!a||B.value.totalMinutes===0)return;const n=24*60*6;a.scrollTo({top:n,behavior:"smooth"})},100)})},E={"ニュース・報道":{background:"#5a88a7",text:"#ffffff"},スポーツ:{background:"#e07f5a",text:"#ffffff"},"情報・ワイドショー":{background:"#e7a355",text:"#ffffff"},ドラマ:{background:"#b464a8",text:"#ffffff"},音楽:{background:"#64b46e",text:"#ffffff"},バラエティ:{background:"#e05a8e",text:"#ffffff"},映画:{background:"#a7647e",text:"#ffffff"},"アニメ・特撮":{background:"#e76b55",text:"#ffffff"},"ドキュメンタリー・教養":{background:"#5a88a7",text:"#ffffff"},"劇場・公演":{background:"#a7647e",text:"#ffffff"},"趣味・教育":{background:"#64b46e",text:"#ffffff"},福祉:{background:"#5aa788",text:"#ffffff"},その他:{background:"#7f7f7f",text:"#ffffff"}},P={background:"rgb(var(--v-theme-background-lighten-3))",text:"rgb(var(--v-theme-text))"},Y=A(new Date),q=setInterval(()=>{Y.value=new Date},60*1e3);at(()=>{clearInterval(q)});const O=a=>{const e=new Date(a);return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},z=a=>{const e=new Date(a);return`${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()} ${O(a)}`},G=(a,e)=>a.length<=e?a:a.substring(0,e)+"...",B=p(()=>{const a=l.timetable_channels;if(!a||a.length===0)return{startTime:new Date,endTime:new Date,totalMinutes:0};let e=null,n=null;if(a.forEach(f=>{f.programs.forEach(L=>{const j=new Date(L.start_time),ue=new Date(L.end_time);(!e||j<e)&&(e=j),(!n||ue>n)&&(n=ue)})}),!e||!n)return{startTime:new Date,endTime:new Date,totalMinutes:0};const d=Math.floor((n.getTime()-e.getTime())/(1e3*60));return{startTime:e,endTime:n,totalMinutes:d}}),u=p(()=>{if(B.value.totalMinutes===0)return[];const a=[],e=new Date(B.value.startTime),n=new Date(B.value.endTime);let d=new Date(e);for(d.setMinutes(0,0,0);d<=n;){const f=d.getHours(),L=f===0;a.push({hour:f,day:L?d.getDate():null}),d.setHours(d.getHours()+1)}return a}),v=p(()=>{var e;const a=((e=l.timetable_channels)==null?void 0:e.length)||0;return a===0?{"grid-template-columns":"none"}:{"grid-template-columns":`repeat(${a}, minmax(200px, 1fr))`}}),g=p(()=>{var e;const a=((e=l.timetable_channels)==null?void 0:e.length)||0;return a===0?{"grid-template-columns":"none","grid-template-rows":"none"}:{"grid-template-columns":`repeat(${a}, minmax(200px, 1fr))`,"grid-template-rows":`repeat(${B.value.totalMinutes}, 6px)`}}),h=(a,e)=>{var _e;const n=new Date(a.start_time),d=new Date(a.end_time),f=B.value.startTime,L=Math.floor((n.getTime()-f.getTime())/(1e3*60)),j=a.duration/60,ue=((_e=a.genres[0])==null?void 0:_e.major)||"その他",fe=E[ue]||P,ne={"grid-column":e+1,"grid-row-start":L+1,"grid-row-end":L+j+1,"background-color":fe.background,color:fe.text,"border-color":fe.background};return F.value.has(a.id)&&(ne.border="2px dashed #FFFFFF",ne["border-color"]="#FFFFFF"),d<Y.value&&(ne.opacity=.6,ne["pointer-events"]="none"),ne},M=p(()=>{if(B.value.totalMinutes===0)return{top:"0px"};const a=B.value.startTime,e=new Date(Y.value),n=Math.floor((e.getTime()-a.getTime())/(1e3*60));return n<0||n>B.value.totalMinutes?{top:"-9999px"}:{top:`${n*6}px`}}),C=a=>a.duration/60>15,I=A(!1),V=A(null),le=a=>{V.value=a,I.value=!0},se=async()=>{const a=await pe.fetchReservations();a&&(F.value=new Set(a.reservations.map(e=>e.program.id)))},Z=A(!1),ve=async a=>{Z.value=!0;const e={is_enabled:!0,priority:3,recording_folders:[],recording_start_margin:null,recording_end_margin:null,recording_mode:"SpecifiedService",caption_recording_mode:"Default",data_broadcasting_recording_mode:"Default",post_recording_mode:"Default",post_recording_bat_file_path:null,is_event_relay_follow_enabled:!0,is_exact_recording_enabled:!1,is_oneseg_separate_output_enabled:!1,is_sequential_recording_in_single_file_enabled:!1,forced_tuner_id:null};await pe.addReservation(a,e)?(b.show("success","録画予約を追加しました。"),I.value=!1,await se()):b.show("error","録画予約の追加に失敗しました。"),Z.value=!1};he(async()=>{l.setChannelType("GR"),l.current_date=new Date,l.selected_day_offset=0,await Promise.all([l.fetchTimetable(),se()])});const re=()=>{ge(()=>{setTimeout(()=>{const a=document.querySelector(".timetable-grid-container");if(!a||B.value.totalMinutes===0)return;const e=B.value.startTime,n=new Date(Y.value),f=Math.floor((n.getTime()-e.getTime())/(1e3*60))*6-200;a.scrollTo({top:f>0?f:0,behavior:"smooth"})},100)})},ie=A(!0);return te(()=>l.timetable_channels,a=>{ie.value&&a&&a.length>0&&(re(),ie.value=!1)}),(a,e)=>(r(),_("div",Rt,[s(rt),c("main",null,[s(it),c("div",Ft,[s(ut),c("div",It,[s(st,{crumbs:[{name:"ホーム",path:"/"},{name:"番組表",path:"/timetable/",disabled:!0}]})]),c("div",Lt,[c("div",Nt,[c("div",{class:"channels-tab__buttons",style:J({"--tab-length":o.length,"--active-tab-index":y.value})},[(r(),_(N,null,W(o,(n,d)=>s(K,{variant:"flat",class:"channels-tab__button",key:n.id,onClick:f=>i(n.id,d)},{default:m(()=>[H(T(n.name),1)]),_:2},1032,["onClick"])),64)),e[6]||(e[6]=c("div",{class:"channels-tab__highlight"},null,-1))],4)]),c("div",Yt,[s(K,{variant:"flat",icon:"",onClick:e[0]||(e[0]=n=>w(-1))},{default:m(()=>[s(oe,null,{default:m(()=>[...e[7]||(e[7]=[H("mdi-chevron-left",-1)])]),_:1})]),_:1}),s(ct,{modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=n=>S.value=n),"close-on-content-click":!1},{activator:m(({props:n})=>[s(K,de({variant:"flat"},n,{class:"date-button"}),{default:m(()=>[H(T(D(R.value)),1)]),_:1},16)]),default:m(()=>[s(dt,{class:"date-list"},{default:m(()=>[(r(!0),_(N,null,W($.value,n=>(r(),Q(ft,{key:n.value,onClick:d=>k(n.offset),class:ot({"date-list-item--selected":n.offset===U(l).selected_day_offset})},{default:m(()=>[s(vt,null,{default:m(()=>[H(T(n.label),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1},8,["modelValue"]),s(K,{variant:"flat",icon:"",onClick:e[2]||(e[2]=n=>w(1))},{default:m(()=>[s(oe,null,{default:m(()=>[...e[8]||(e[8]=[H("mdi-chevron-right",-1)])]),_:1})]),_:1})])]),c("div",Ot,[U(l).is_loading?(r(),_("div",zt,[s(nt,{indeterminate:"",size:"64"})])):U(l).timetable_channels&&U(l).timetable_channels.length>0?(r(),_("div",Wt,[e[10]||(e[10]=c("div",{class:"corner-cell"},null,-1)),c("div",{class:"channels-header",style:J(v.value)},[(r(!0),_(N,null,W(U(l).timetable_channels,n=>(r(),_("div",{key:n.channel.id,class:"channel-header-cell"},T(n.channel.name),1))),128))],4),c("div",Xt,[(r(!0),_(N,null,W(u.value,(n,d)=>(r(),_("div",{key:d,class:"hour-label"},[n.day!==null?(r(),_("div",At,T(n.day),1)):X("",!0),n.day!==null?(r(),_("div",qt,"日")):X("",!0),c("div",jt,T(n.hour),1),e[9]||(e[9]=c("div",{class:"hour-unit"},"時",-1))]))),128))]),c("div",{class:"programs-grid",style:J(g.value)},[c("div",{class:"current-time-line",style:J(M.value)},null,4),(r(!0),_(N,null,W(U(l).timetable_channels.length,n=>(r(),_("div",{key:n,class:"channel-border",style:J({gridColumn:n})},null,4))),128)),(r(!0),_(N,null,W(Math.ceil(B.value.totalMinutes/60),n=>(r(),_("div",{key:n,class:"hour-border",style:J({gridRow:n*60+1})},null,4))),128)),(r(!0),_(N,null,W(U(l).timetable_channels,(n,d)=>(r(),_(N,null,[(r(!0),_(N,null,W(n.programs,f=>(r(),Q(yt,{key:f.id,location:"top",disabled:C(f)},{activator:m(({props:L})=>[c("div",de({ref_for:!0},L,{class:"program-cell elevation-2",style:h(f,d),onClick:j=>le(f)}),[c("div",Gt,[c("div",Zt,T(f.title),1),c("div",Jt,[f.is_free?X("",!0):(r(),_("span",Kt,"有料")),f.genres.length>0?(r(),_("span",Qt,T(f.genres[0].major),1)):X("",!0)])]),f.description&&f.duration>=900?(r(),_("div",ea,T(G(f.description,50)),1)):X("",!0),c("div",ta,T(O(f.start_time))+" - "+T(O(f.end_time))+" ("+T(Math.floor(f.duration/60))+"分)",1)],16,Ut)]),default:m(()=>[c("span",aa,T(f.title),1)]),_:2},1032,["disabled"]))),128))],64))),256))],4)])):(r(),_("div",na,[...e[11]||(e[11]=[c("p",null,"番組情報を取得できませんでした。",-1),c("p",null,"指定された期間・チャンネルに放送される番組がありません。",-1)])]))])])]),s(Ht,{modelValue:I.value,"onUpdate:modelValue":e[5]||(e[5]=n=>I.value=n),location:"right",temporary:"",width:"600"},{default:m(()=>[V.value?(r(),Q(Tt,{key:0,class:"detail-panel"},{default:m(()=>[s(pt,{class:"text-h5 pb-2"},{default:m(()=>[H(T(V.value.title),1)]),_:1}),s(wt,{class:"pb-3"},{default:m(()=>[H(T(z(V.value.start_time))+" - "+T(z(V.value.end_time))+" ("+T(Math.floor(V.value.duration/60))+"分)",1)]),_:1}),s(we,{class:"pt-0 pb-2"},{default:m(()=>[c("div",oa,[V.value.is_free?X("",!0):(r(),Q(me,{key:0,color:"warning",size:"small",class:"mr-2 mb-2"},{default:m(()=>[s(oe,{start:""},{default:m(()=>[...e[12]||(e[12]=[H("mdi-currency-yen",-1)])]),_:1}),e[13]||(e[13]=H(" 有料放送 ",-1))]),_:1})),V.value.video_resolution==="1080i"||V.value.video_resolution==="1080p"?(r(),Q(me,{key:1,color:"success",size:"small",class:"mr-2 mb-2"},{default:m(()=>[s(oe,{start:""},{default:m(()=>[...e[14]||(e[14]=[H("mdi-high-definition",-1)])]),_:1}),e[15]||(e[15]=H(" HD ",-1))]),_:1})):X("",!0),(r(!0),_(N,null,W(V.value.genres.slice(0,2),n=>(r(),Q(me,{key:n.major,color:"primary",variant:"outlined",size:"small",class:"mr-2 mb-2"},{default:m(()=>[H(T(n.major),1)]),_:2},1024))),128))])]),_:1}),s(we,{class:"py-2"},{default:m(()=>[s(St,{class:"mb-3"}),e[17]||(e[17]=c("h4",{class:"text-subtitle-1 mb-2"},"番組内容",-1)),c("p",la,T(V.value.description),1),V.value.detail&&Object.keys(V.value.detail).length>0?(r(),_("div",sa,[e[16]||(e[16]=c("h4",{class:"text-subtitle-1 mb-2"},"詳細情報",-1)),c("div",ra,[(r(!0),_(N,null,W(V.value.detail,(n,d)=>(r(),_("div",{key:d,class:"detail-item"},[c("span",ia,T(d)+":",1),c("span",ua,T(n),1)]))),128))])])):X("",!0)]),_:1}),s(kt,{class:"detail-panel__actions"},{default:m(()=>[s(Dt),s(K,{loading:Z.value,onClick:e[3]||(e[3]=n=>ve(V.value.id)),color:"primary",variant:"elevated"},{default:m(()=>[s(oe,{start:""},{default:m(()=>[...e[18]||(e[18]=[H("mdi-record-rec",-1)])]),_:1}),e[19]||(e[19]=H(" 録画予約 ",-1))]),_:1},8,["loading"]),s(K,{onClick:e[4]||(e[4]=n=>I.value=!1),variant:"outlined"},{default:m(()=>[...e[20]||(e[20]=[H("閉じる",-1)])]),_:1})]),_:1})]),_:1})):X("",!0)]),_:1},8,["modelValue"])]))}}),Ma=lt(ca,[["__scopeId","data-v-5112433d"]]);export{Ma as default};
